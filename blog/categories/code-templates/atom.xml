<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: code templates | Temple Coding]]></title>
  <link href="http://vintem.github.io/templecoding/blog/categories/code-templates/atom.xml" rel="self"/>
  <link href="http://vintem.github.io/templecoding/"/>
  <updated>2013-09-03T10:42:11-04:00</updated>
  <id>http://vintem.github.io/templecoding/</id>
  <author>
    <name><![CDATA[Thiago Temple]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[CodeTemplates com ASP.NET MVC]]></title>
    <link href="http://vintem.github.io/templecoding/blog/2010/05/03/codetemplates-com-asp-net-mvc/"/>
    <updated>2010-05-03T00:00:00-04:00</updated>
    <id>http://vintem.github.io/templecoding/blog/2010/05/03/codetemplates-com-asp-net-mvc</id>
    <content type="html"><![CDATA[<p>Toda a vez que você vai adicionar uma View usando o assistente do Visual Studio</p>

<p><img class="aligncenter" src="/images/2010/05/ScreenHunter_01-May.-03-15.23.gif" title="Adicionar View" ></p>

<p>Uma nova página é adiciona com um código pré-definido e baseado na opção que você escolheu  em &ldquo;View Content&rdquo;, o que muita gente não sabe é que dá para customizar todos esses modelos de página e é muito simples fazer isso.</p>

<h3>Adicionando os arquivos ao projeto</h3>


<p>Primeiro vá em <em>C:Program Files\Microsoft Visual Studio 9.0\Common7\IDE\ItemTemplates\CSharpWeb</em></p>

<p><span style="color: #808080;">Obs.: Veja que esse caminho vai variar de acordo com sua instalação e com a linguagem escolhida.</span></p>

<p><span>Se você tiver o ASP.NET MVC 1 e 2 instalados você deve encontrar duas pastas ali dentro chamadas respectivamente MVC e MVC2. Entre na pasta da versão escolhida copie a pasta CodeTemplates e cole na raíz do seu projeto web. Você deve acabar com um projeto assim:</span></p>

<p><img class="aligncenter" src="/images/2010/05/ScreenHunter_03-May.-03-15.47.gif"></p>

<p>O Visual Studio sempre vai procurar por esses arquivos localmente no projeto e se não encontrar buscará os arquivos na pasta informada acima.</p>

<h3>Configurando os arquivos</h3>


<p><span>Você já deve ter percebido não é? Existe um arquivo para cada template. Todas com uma extensão .tt que é a extensão do T4 (Text Template Transformation Toolkit).</span></p>

<p><span>O T4 é uma ferramenta de geração de código baseada em templates que vem nativa junto com o Visual Studio desde a versão 2005. Aliás, vale para o T4 um investimento de estudos já que é uma ferramenta muito útil.</span></p>

<p><span>A primeira coisa que precisa ser feita é selecionar todos os arquivos .tt ir na janela de propriedades e limpar o campo Custom Tool. Deixe em branco.</span></p>

<p><img class="aligncenter" src="/images/2010/05/ScreenHunter_05-May.-03-16.01.gif" title="T4 Custom Tool" ></p>

<h3>Alterando um template</h3>


<p>Agora vamos realmente alterar um template. Vamos supor que eu queira, ao exibir o detalhe de uma classe que ela fosse exibida dentro de uma tabela. Originalmente, as propriedades são exibidas em divs ao invés de tabelas (que na minha opinião, é a melhor opção).</p>

<p>Veja como ficou o arquivo Details.tt</p>

<p><img class="aligncenter" src="/images/2010/05/ScreenHunter_07-May.-03-19.02.gif" title="Details com tabela" ></p>

<p>Outra modificação que eu fiz na modelo de Details, foi, ao invés de exibir o título dentro de uma tag h2, eu exibo dentro da tag h1.</p>

<p><img class="aligncenter" src="/images/2010/05/ScreenHunter_08-May.-03-19.06.gif" title="Details com título H1" ></p>

<p>Pronto! Agora toda vez que for adiciona uma View com base no modelo Details ele seguirá esse padrão.</p>

<p>Uma outra coisa que pode ser feita é salvar um novo modelo dentro daquela pasta com outro nome, por exemplo, eu fiz essas alterações e salvei o arquivo como DetailsVintem.tt. Agora quando eu tento adicionar uma View essa opção fica disponível para mim.</p>

<p><img class="aligncenter" src="/images/2010/05/ScreenHunter_09-May.-03-19.09.gif"></p>
]]></content>
  </entry>
  
</feed>
