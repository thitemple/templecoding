
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Temple Coding</title>
  <meta name="author" content="Thiago Temple">

  
  <meta name="description" content="Sabe quando você preenche uma data inválida em uma página usando o ASP.NET MVC e o erro vem em inglês assim: Isso acontece porque o &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://templecoding.com/blog/page/6">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Temple Coding" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><h1><a href="/">Temple Coding</a></h1>

<h2>código, tecnologia e outras nerdices</h2>


</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:templecoding.com" />
    <input class="search" type="text" name="q" placeholder="Procurar"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivos</a></li>
  <li><a href="/blog/categories/videocast">Videocast</a></li>
  <li><a href="/sobre">Sobre</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/07/22/localizao-de-mensagem-de-erro-no-asp-net-mvc/">Localização de mensagem de erro no ASP.NET MVC</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-22T00:00:00-04:00"  data-updated="true">22/07/2010</time>
        
         | <a href="/blog/2010/07/22/localizao-de-mensagem-de-erro-no-asp-net-mvc/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sabe quando você preenche uma data inválida em uma página usando o ASP.NET MVC e o erro vem em inglês assim:</p>

<p><img class="aligncenter" src="/images/2010/07/ErroIngles_thumb.png" title="Erro em inglês" ></p>

<p>Isso acontece porque o DefaultModelBinder do MVC não conseguiu converter essa data, no caso acima, é óbvio porque não existe um mês 15. A questão é, como traduzir essa mensagem?</p>

<p>Um jeito que achei foi adicionando uma pasta App_GlobalResources e dentro dessa pasta adicionar um arquivo de resources, que no caso, chamei de CustomMvcResources.resx.</p>

<p><img class="aligncenter" src="/images/2010/07/ArquivoResources.png" title="Arquivo de Resources" ></p>

<p>Nesse arquivo de resources adicione a seguinte linha:</p>

<p><img class="aligncenter" src="/images/2010/07/ItemResource.png" title="Item do Resource" ></p>

<p>No global.asax altere o método Application_Start para que fique assim:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">protected</span> <span class="k">void</span> <span class="nf">Application_Start</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">AreaRegistration</span><span class="p">.</span><span class="n">RegisterAllAreas</span><span class="p">();</span>
</span><span class='line'>    <span class="n">DefaultModelBinder</span><span class="p">.</span><span class="n">ResourceClassKey</span> <span class="p">=</span> <span class="s">&quot;CustomMvcResources&quot;</span><span class="p">;</span>
</span><span class='line'>    <span class="n">RegisterRoutes</span><span class="p">(</span><span class="n">RouteTable</span><span class="p">.</span><span class="n">Routes</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>O importante é que o valor informado à propriedade ResourceClassKey tenha o nome do arquivo de resource criado.</p>

<p>Agora o erro será apresentado do jeito que foi configurado no arquivo de resources.</p>

<p><img class="aligncenter" src="/images/2010/07/ErroTraduzido.png" title="Erro traduzido" ></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/07/18/lista-de-leitura-3o-trimestre-2010/">Lista de leitura 3o Trimestre 2010</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-18T00:00:00-04:00"  data-updated="true">18/07/2010</time>
        
         | <a href="/blog/2010/07/18/lista-de-leitura-3o-trimestre-2010/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="aligncenter" src="/images/2010/07/Winter-snow-in-house-wallpaper_2.jpg" title="Winter" ></p>

<p>Está frio lá fora, acho que nem tanto como na foto acima, mas com certeza é uma boa oportunidade pra ficar embaixo da coberta e lendo. :)</p>

<p>Ok, eu sei que já foi mais da metade do primeiro mês desse trimestre e até agora eu não postei a lista, mas é porque eu estava ocupado lendo.</p>

<p>Antes, eu queria falar de dois livros que eu já li, o primeiro <a href="/blog/2010/04/12/lista-de-leitura-2o-trimestre-de-2010/">estava na lista do trimestre passado</a>.</p>

<p><a href="http://www.amazon.com/Passionate-Programmer-Remarkable-Development-Pragmatic/dp/1934356344/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1279495741&amp;sr=1-1" target="_blank"><img style="border: 0px none; margin: 0px 10px 10px 0px; display: inline;" title="41fyjTVARFL._SL500_AA300_" src="http://templecoding.com/wp-content/uploads/2010/07/41fyjTVARFL._SL500_AA300__3.jpg" alt="41fyjTVARFL._SL500_AA300_" width="244" height="244" align="left" border="0" /></a></p>

<p><a href="http://www.amazon.com/Passionate-Programmer-Remarkable-Development-Pragmatic/dp/1934356344/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1279495741&amp;sr=1-1" target="_blank">The Passionate Programmer</a> &ndash; definitivamente esse é um livro que todo desenvolvedor, que quer levar sua carreira a sério, deveria ler. <a href="http://chadfowler.com/" target="_blank">Chad Fowler</a> fala sobre como fazer da carreira de desenvolvedor de software um negócio, o nosso negócio, trata de marketing pessoal de uma forma simples e traz diversas dicas de como ser um profissional melhor. Não é um livro pra quem quer ser um desenvolvedor &ldquo;apenas para pagar as contas&rdquo;. Se você não está nesse grupo e gosta do que faz, esse livro é pra você.</p>

<p>Esse aqui não estava na lista, mas como sobrou um tempo, foi uma ótima leitura também.</p>

<p><a href="http://www.submarino.com.br/produto/1/21593238/free:+gratis+-+o+futuro+dos+precos" target="_blank"><img style="border: 0px none; margin: 0px 10px 10px 0px; display: inline;" title="21593238" src="http://templecoding.com/wp-content/uploads/2010/07/21593238_3.jpg" alt="21593238" width="184" height="184" align="left" border="0" /></a></p>

<p><a href="http://www.submarino.com.br/produto/1/21593238/free:+gratis+-+o+futuro+dos+precos" target="_blank">Free, o futuro dos preços</a> &ndash; acho que o nome é bem explicativo. Fala sobre modelos de negócios usando o grátis. Muito interessante a abordagem de <a href="http://pt.wikipedia.org/wiki/Chris_Anderson" target="_blank">Chris Anderson</a> que traz diversas idéias que não são nada óbvias e que podem ser muito bem aproveitadas se você não quiser ficar apenas na parte técnica do negócio de desenvolver software.</p>

<p><strong>
</strong></p>

<p><strong>O 3o trimestre</strong></p>

<p><img class="aligncenter" src="/images/2010/07/DSC05246.jpg"></p>

<p>Pra esse trimestre eu separei seis pra eu ler, Python porque é uma linguagem que faz um tempo que queria aprender.</p>

<p>Powershell 2.0 que é uma ferramenta que tenho ouvido falar muito a respeito.</p>

<p>Domain Driven Design é um livro daqueles que eu já ouvi dizer que todo desenvolvedor deveria ler e portanto está na lista.</p>

<p>The Productive Programmer, fala sobre técnicas e ferramentas para ser mais produtivo como programador.</p>

<p>E os outros dois, A cabeça de Steve Jobs e O Ponto da Virada, para sair um pouco do tecniquês e ler um pouco mais sobre negócios.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/07/12/qcon-so-paulo-eu-vou/">QCon São Paulo, eu vou!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-12T00:00:00-04:00"  data-updated="true">12/07/2010</time>
        
         | <a href="/blog/2010/07/12/qcon-so-paulo-eu-vou/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="alignleft" src="/images/2010/07/qcon_3.png" title="QCON" > Nos dias 11 e 12 de setembro vai acontecer em São Paulo, mais precisamente no Centro Fecomercio de Eventos a QCon, um dos principais eventos de arquitetos e desenvolvedores da América Latina. Falando sobre assuntos como .NET, Java, Ruby, Rails, Agile, Arquitetura, etc.</p>

<p>Vários nomes de peso estarão falando sobre diversos assuntos, sem contar que é mais uma oportunidade para melhorar o networking.</p>

<p>Eu estarei lá, minha inscrição já está garantida, espero encontrar você por lá também. :)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/07/05/asp-net-mvc-e-o-grid-do-mvccontrib/">ASP.NET MVC e o Grid do MvcContrib</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-05T00:00:00-04:00"  data-updated="true">05/07/2010</time>
        
         | <a href="/blog/2010/07/05/asp-net-mvc-e-o-grid-do-mvccontrib/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Uma das coisas que eu sempre gostei do ASP.NET Web Forms era a produtividade que a gente ganhava com os controles, entre eles, um dos que eu mais usava sempre foi o GridView. E devo admitir que esse foi também um fator de resistência para eu começar a usar o ASP.NET MVC.</p>

<p>Resistência vencida, toda a vez que eu precisava de um Grid, ou seja, de dados tabulares, eu usava o bom e velho e um loop através dos meus objetos da collection.</p>

<p>Isso é claro, até eu me aventurar com o Grid do <a href="http://mvccontrib.codeplex.com/" target="_blank">MvcContrib</a>. O MvcContrib é um projeto open source que, entre outras coisas, possui esse Grid que é muito prático e simples.</p>

<p>Pra começar é só baixar o assembly do site do projeto e adicionar uma referência para o assembly MvcContrib.dll</p>

<p>Eu fiz uma action bem simples que retorna uns dados estáticos para a página:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="n">ViewResult</span> <span class="nf">Index</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">produtos</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">new</span> <span class="n">Produto</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Nome</span> <span class="p">=</span> <span class="s">&quot;Chaveiro&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Valor</span> <span class="p">=</span> <span class="m">11.50</span><span class="n">m</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Categoria</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Categoria</span> <span class="p">{</span><span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Nome</span> <span class="p">=</span> <span class="s">&quot;Utilitários&quot;</span><span class="p">}</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="k">new</span> <span class="n">Produto</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Nome</span> <span class="p">=</span> <span class="s">&quot;Mouse&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Valor</span> <span class="p">=</span> <span class="m">100</span><span class="n">m</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Categoria</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Categoria</span> <span class="p">{</span><span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Nome</span> <span class="p">=</span> <span class="s">&quot;Informática&quot;</span><span class="p">}</span>
</span><span class='line'>      <span class="p">},</span>
</span><span class='line'>      <span class="k">new</span> <span class="n">Produto</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="n">Id</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Nome</span> <span class="p">=</span> <span class="s">&quot;Pen-Drive 8GB&quot;</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Valor</span> <span class="p">=</span> <span class="m">150.99</span><span class="n">m</span><span class="p">,</span>
</span><span class='line'>          <span class="n">Categoria</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Categoria</span> <span class="p">{</span><span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Nome</span> <span class="p">=</span> <span class="s">&quot;Informática&quot;</span><span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nf">View</span><span class="p">(</span><span class="n">produtos</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>E na view é muito simples também:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="err">&lt;</span>%@ Import Namespace=&quot;MvcContrib.UI.Grid&quot; %&gt;
</span><span class='line'><span class="nt">&lt;asp:Content</span> <span class="na">ID=</span><span class="s">&quot;Content1&quot;</span> <span class="na">ContentPlaceHolderID=</span><span class="s">&quot;TitleContent&quot;</span> <span class="na">runat=</span><span class="s">&quot;server&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  Lista de Produtos
</span><span class='line'><span class="nt">&lt;/asp:Content&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;asp:Content</span> <span class="na">ID=</span><span class="s">&quot;Content2&quot;</span> <span class="na">ContentPlaceHolderID=</span><span class="s">&quot;MainContent&quot;</span> <span class="na">runat=</span><span class="s">&quot;server&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>  <span class="nt">&lt;h2&gt;</span>Lista de Produtosh2&gt;
</span><span class='line'>
</span><span class='line'>  <span class="err">&lt;</span>%= Html.Grid(Model).Columns(coluna =&gt;
</span><span class='line'>  {
</span><span class='line'>      coluna.For(x =&gt; x.Nome);
</span><span class='line'>      coluna.For(x =&gt; x.Valor);
</span><span class='line'>      coluna.For(x =&gt; x.Categoria.Nome);
</span><span class='line'>  })
</span><span class='line'>  %&gt;
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/asp:Content&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Isso gera um grid simples na página:</p>

<p><img class="aligncenter" src="/images/2010/07/ScreenHunter_01_07_11.gif"></p>

<p>Agora vamos permitir uma ordenação, primeiro eu altero a view para exibir os links de ordenação:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="err">&lt;</span>%= Html.Grid(Model)
</span><span class='line'>  .Sort(ViewData[&quot;sort&quot;] as GridSortOptions)
</span><span class='line'>  .Columns(coluna =&gt;
</span><span class='line'>  {
</span><span class='line'>      coluna.For(x =&gt; x.Nome);
</span><span class='line'>      coluna.For(x =&gt; x.Valor);
</span><span class='line'>      coluna.For(x =&gt; x.Categoria.Nome).Named(&quot;Categoria&quot;);
</span><span class='line'>  })
</span><span class='line'>%&gt;
</span></code></pre></td></tr></table></div></figure>


<p>E na action do controller eu faço seguinte:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">using</span> <span class="nn">MvcContrib.Sorting</span><span class="p">;</span>
</span><span class='line'><span class="c1">// ...</span>
</span><span class='line'><span class="k">public</span> <span class="n">ViewResult</span> <span class="nf">Index</span><span class="p">(</span><span class="n">GridSortOptions</span> <span class="n">sort</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">var</span> <span class="n">produtos</span> <span class="p">=</span> <span class="n">GetProdutos</span><span class="p">();</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">sort</span><span class="p">.</span><span class="n">Column</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
</span><span class='line'>      <span class="n">sort</span><span class="p">.</span><span class="n">Column</span> <span class="p">=</span> <span class="s">&quot;Nome&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">produtos</span> <span class="p">=</span> <span class="n">produtos</span><span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">sort</span><span class="p">.</span><span class="n">Column</span><span class="p">,</span> <span class="n">sort</span><span class="p">.</span><span class="n">Direction</span><span class="p">);</span>
</span><span class='line'>  <span class="n">ViewData</span><span class="p">[</span><span class="s">&quot;sort&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="n">sort</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">return</span> <span class="nf">View</span><span class="p">(</span><span class="n">produtos</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Para ficar mais claro eu movi a inicialização dos produtos para um outro método. Mas como você pode ver no código acima, é muito simples adicionar ordenação.</p>

<p>Por fim, para paginar alteramos a action:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">using</span> <span class="nn">MvcContrib.Pagination</span><span class="p">;</span>
</span><span class='line'><span class="c1">// ...</span>
</span><span class='line'><span class="k">public</span> <span class="n">ViewResult</span> <span class="nf">Index</span><span class="p">(</span><span class="n">GridSortOptions</span> <span class="n">sort</span><span class="p">,</span> <span class="kt">int?</span> <span class="n">pagina</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="kt">var</span> <span class="n">produtos</span> <span class="p">=</span> <span class="n">GetProdutos</span><span class="p">();</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">sort</span><span class="p">.</span><span class="n">Column</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
</span><span class='line'>        <span class="n">sort</span><span class="p">.</span><span class="n">Column</span> <span class="p">=</span> <span class="s">&quot;Nome&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">produtos</span> <span class="p">=</span> <span class="n">produtos</span><span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">sort</span><span class="p">.</span><span class="n">Column</span><span class="p">,</span> <span class="n">sort</span><span class="p">.</span><span class="n">Direction</span><span class="p">);</span>
</span><span class='line'>    <span class="n">ViewData</span><span class="p">[</span><span class="s">&quot;sort&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="n">sort</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">return</span> <span class="nf">View</span><span class="p">(</span><span class="n">produtos</span><span class="p">.</span><span class="n">AsPagination</span><span class="p">(</span><span class="n">pagina</span> <span class="p">??</span> <span class="m">1</span><span class="p">,</span> <span class="m">10</span><span class="p">));</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>E na view usamos um helper para exibir as páginas:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="err">&lt;</span>%= Html.Grid(Model)
</span><span class='line'>    .Sort(ViewData[&quot;sort&quot;] as GridSortOptions)
</span><span class='line'>    .Columns(coluna =&gt;
</span><span class='line'>    {
</span><span class='line'>        coluna.For(x =&gt; x.Nome);
</span><span class='line'>        coluna.For(x =&gt; x.Valor);
</span><span class='line'>        coluna.For(x =&gt; x.Categoria.Nome).Named(&quot;Categoria&quot;);
</span><span class='line'>    })
</span><span class='line'>%&gt;
</span><span class='line'>
</span><span class='line'><span class="err">&lt;</span>%= Html.Pager((IPagination)Model).Format(&quot;Exibindo {0} - {1} de {2}&quot;) %&gt;
</span></code></pre></td></tr></table></div></figure>


<p><strong>Conclusão</strong></p>

<p>Fazer paginação e ordenação manualmente em grids pode ser bem complicado às vezes. Pela simplicidade da solução hoje o Grid do MvcContrib é a minha primeira opção.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/30/no-seja-um-dinossauro-do-software/">Não seja um dinossauro do software</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-30T00:00:00-04:00"  data-updated="true">30/06/2010</time>
        
         | <a href="/blog/2010/06/30/no-seja-um-dinossauro-do-software/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Eu acho que nunca vou cansar de falar sobre isso, sobre o quanto acho isso importante. Não é porque você gosta da tecnologia X ou Y que você não precisa conhecer a Z. Não é porque você sempre fez de um jeito que aquele jeito está certo. Me dói ver pessoas defendendo metodologias e tecnologias sem nem se dar ao trabalho de conhecer outras coisas para saber o que estão criticando.</p>


<p>  <p>Ainda bem, as coisas sempre evoluem, tecnologias melhoram, tornam nosso trabalho mais fácil. Só para dar dois exemplos:</p>  <p>1) Eu sempre fiz aplicações web se comunicarem com o SAP através do .NET Connector, até que um dia eu tive que usar o Java Connector para comunicação com o SAP, e tenho que dizer, como o JCO é melhor! Mais fácil, máis prático, eu passei a fazer tudo de uma forma muito mais simples.</p>  <p>2) Eu sempre participei de projetos usando as metodologias tracidicionais, cascata, mais rígidas, por assim dizer, e sempre achei que era a melhor coisa que existia, não porque eu realmente acredidava naquilo, mas porque eu não conhecia o outro lado. Um belo dia, meu amigo <a href="http://twitter.com/sergiomonteiro" target="_blank">Sérgio Monteiro</a> me apresentou um tal de SCRUM e posso dizer que tive um pouco de resistência, mas não demorou muito e cá estou eu, defendendo o SCRUM e principalmente o Ágil onde quer que eu vá.</p>  <p>O que eu quero dizer é: não vista a camisa de uma plataforma/tecnologia só por vestir, primeiro que você nunca sabe quando o fabricante ou responsável por isso vai mudar de idéia, segundo, o mercado de software é muito novo e portanto está evoluindo muito rapidamente e aquilo que parecia bom ontem pode não ser o melhor hoje.</p></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/27/na-guerra-ou-na-programao-os-mais-rpidos-saem-na-frente/">Na guerra ou na programação, os mais rápidos saem na frente</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-27T00:00:00-04:00"  data-updated="true">27/06/2010</time>
        
         | <a href="/blog/2010/06/27/na-guerra-ou-na-programao-os-mais-rpidos-saem-na-frente/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Liderar ou gerenciar um time não é uma tarefa fácil, não é a toa que vemos tantos livros sobre liderança. Muitas vezes caímos no risco de querer controlar tudo o que os liderados/gerenciados fazem, o que pode ser conhecido como micro gerenciamento. Isso, claro, pode acontecer porque não confiamos no julgamento ou capacidade alheia, mas também pode ser pela crença errada de que quanto mais informações tivermos, melhor poderemos tomar uma decisão.</p>


<p>Paul Van Riper, ex-comandante de um batalhão no Vietnã disse:</p>




<blockquote><p>Um comandante não precisa saber a pressão barométrica, os ventos ou mesmo a temperatura. Ele precisa saber a previsão. Se você se envolver demais na produção de informações irá se afogar nos dados.&#8221;</p><footer><strong>Paul Van Riper</strong></footer></blockquote>




<p>Quando eu li essa citação, não pude deixar de ligar com várias experiências que já tive, sendo um líder ou sendo liderado. Não precisamos saber os mínimos detalhes técnicos para saber se algo vai dar certo ou não, precisamos primeiro de tudo confiar nos nossos liderados. Ou então, teremos que tomar muito mais decisões do que realmente precisamos. Além do mais, existem diversos estudos que comprovam que precisamos de bem menos informações para tomar uma decisão do que realmente acreditamos.</p>


<p>Quanto mais informações exigimos, ou melhor, em quanto mais detalhes tentamos nos envolver, mais burocráticos e lentos nos tornamos. Citando novamente Van Riper:</p>




<blockquote><p>&#8220;É como As viagens de Gulliver, o gigante é amarrado por aquelas pequenas regras, regulamentos e procedimentos. E o baixinho? Ele simplesmente dá a volta e faz o que quer.&#8221;</p><footer><strong>Paul Van Riper</strong></footer></blockquote>




<p>Delegar não é uma tarefa fácil, por isso é uma das questões mais exploradas quando se fala em liderança, mas com certeza vale o esforço.</p>


<p>Apenas para contextualizar, Van Riper participou de um treinamento no Pentágono em 2002 chamado de O Desafio do Milênio, onde ele liderava uma equipe, chamada de equipe vermelha que enfrentava a equipe azul. A idéia era fazer uma simulação de uma guerra do golfo para poder testar um time todo informatizado. </p>


<p>A equipe azul tinha diversos estudos, acesso a várias informações e um programa de computador que equacionava informações militares, políticas e econômicas do inimigo. Antes de disparar um tiro, ou tomar uma iniciativa a equipe azul devia trocar mensagens e discutir cada decisão com seu comando. </p>


<p>Van Riper, chamou para sua equipe corretores de Wall Street que estavam acostumados a tomar decisões rápidas com poucas informações. E dispunha de um aparato militar comum.</p>


<p>O resultado do desafio? No segundo dia desse desafio, enquanto a equipe azul discutia com seus comandantes as ações que devia tomar, Van Riper apenas disse ao seus comandados o que ele queria e não como, a equipe vermelha atacou a equipe azul de surpresa e destruiu 16 navios dos azuis.</p>


<p>Por que isso deu certo com a equipe de Van Riper? Posso dizer duas coisas que vem à mente e que podemos usar para o mundo do software. </p>


<p>1) Quem está executando a atividade ou no caso de Van Riper, quem estava no campo de batalha, consegue ou deve conseguir tomar as decisões mais rápidas e eficientes para executar aquela tarefa da maneira mais eficiente. São essas pessoas que estão vendo o problema no momento que tem cada detalhe.</p>


<p>2) Liberar um líder de cada detalhe permite que ele tenha tempo para ter a visão geral e determinar a melhor estratégia de forma macro.</p>


<p>Apenas para finalizar, vale dizer que Van Riper, além disso, permitiu que seus comandados fossem criativos para tomar suas decisões sem que esses mudassem o rumo da missão, ele criou as condições para a espontaneidade bem-sucedida.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/20/integracao-continua-com-cruise-control-net/">Integração Contínua com Cruise Control .NET</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-20T00:00:00-04:00"  data-updated="true">20/06/2010</time>
        
         | <a href="/blog/2010/06/20/integracao-continua-com-cruise-control-net/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="/blog/2010/06/14/builds-automticos-com-msbuild-nunit-e-ncover/">Anteriormente eu falei sobre builds automáticos com o MSBuild</a>, bem, se você levar ao pé da letra, os builds feitos de acordo com aquele post não eram exatamente automáticos, o que acontecia de forma automática no momento em que o build era executado eram os testes unitários e a análise de cobertura de código feita pelos testes unitários. Agora, eu vou falar sobre como fazer a integração contínua com Cruise Control .NET.</p>

<p><strong>Sobre Integração Contínua</strong></p>

<p>Eu não vou parar e explicar aqui sobre integração contínua, acredito que uma ótima fonte é o texto do <a href="http://martinfowler.com/" target="_blank">Martin Fowler</a> traduzido pelo <a href="http://www.blogdopedro.net/" target="_blank">Pedro Mendes</a> e que pode <a href="http://www.blogdopedro.net/2009/03/04/traducao-do-artigo-sobre-integracao-continua" target="_blank">ser encontrado aqui</a>.</p>

<p>Apenas como um resumo: integração contínua é uma prática, ou melhor, um conjunto de práticas que visa, entre outras coisas, detectar problemas no código o mais rápido possível para que esse código se <em>integre </em>a um repositório de código compartilhado por outros desenvolvedores.</p>

<p>Algumas dessas práticas são:</p>

<ul>
    <li>Possuir um repositório central para o código</li>
    <li>Realização de builds automáticos</li>
    <li>Check-in ou commit do código frequentemente</li>
    <li>Testes executados de forma automática</li>
    <li>Que todos os participantes tenham uma visualização do código</li>
</ul>


<p>Como disse, esse é apenas um resumo, eu recomendo fortemente que você leia o texto indicado acima.</p>

<p><strong>O Cruise Control .NET</strong></p>

<p>O Cruise Control .NET é uma ferramenta open source para implementação de integração contínua. Obviamente não é única, mas é uma das mais conhecidas no mercado juntamente com as irmãs Cruise Control (feita em java) e Cruise Control rb (feita em ruby). Segue aqui um <a href="http://sourceforge.net/projects/ccnet/files/CruiseControl.NET%20Releases/" target="_blank">link para baixar o Cruise Control .NET.</a></p>

<p>A instalação é bem simples, as únicas observações são que após a instalação deve-se definir uma senha para o administrador do dashboard, para isso vá até a pasta onde está instalado o Cruise Control NETwebdashboard e abra o arquivo dashboard.config e altere a configuração com a senha escolhida:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;administrationPlugin</span> <span class="na">password=</span><span class="s">&quot;&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Além disso é preciso dar permissão de escrita no arquivo dashboard.config e na pasta xls para o usuário IUSR_XXX, onde XXX é o nome da máquina onde você está realizando a instalação do Cruise Control. Após a instalação do Cruise Control, um serviço é adicionado ao windows que precisa ser iniciado. <strong>Configurando o Cruise Control .NET</strong> Antes de colocar um projeto CCNet vamos configurá-lo para exibir os dados que gostaríamos que são os dados do MSBuild, do NUnit e do NCover. Se você fez uma instalação padrão deve acessar o dashboard pelo endereço <a href="http://localhost/ccnet">http://localhost/ccnet</a></p>

<p><img class="aligncenter" src="/images/2010/06/ScreenHunter_01%20Jun.%2019%2021.33_2.gif" title="Dashboard do Cruise Control" ></p>

<p>Clique em Administer Dashboard, entre com a senha configurada para o administrador e você deve ver uma lista com os Packages disponíveis. Instale os 3 que vamos usar clicando em cada um deles, MSBuild Results, NCover Results e NUnit Results. <strong>Configurando um novo projeto no Cruise Control</strong> Configurar um projeto no Cruise Control é editar um arquivo XML, não é muito amigável mas é de certa forma bem simples. O arquivo que vamos editar é o ccnet.config que fica na pasta server onde foi instalado o CCNet. <a href="/blog/2010/06/14/builds-automticos-com-msbuild-nunit-e-ncover/">Estou usando o projeto do post anterior sobre o MSBuild</a> e configurando ele no CCNet. Primeiro, estou assumindo que você tem o seu projeto em um repósitorio, no meu caso, estou usando o Subversion, mas o CCNet suporta diversos. Veja como ficou configurado o meu arquivo ccnet.config:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;cruisecontrol</span> <span class="na">xmlns:cb=</span><span class="s">&quot;urn:ccnet.config.builder&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;project&gt;</span>
</span><span class='line'>        <span class="nt">&lt;name&gt;</span>MSBuildDemo<span class="nt">&lt;/name&gt;</span>
</span><span class='line'>        <span class="nt">&lt;triggers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;intervalTrigger</span> <span class="nt">/&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/triggers&gt;</span>
</span><span class='line'>        <span class="nt">&lt;workingDirectory&gt;</span>c:CCNetWorkingMSBuildDemo<span class="nt">&lt;/workingDirectory&gt;</span>
</span><span class='line'>        <span class="nt">&lt;artifactDirectory&gt;</span>c:CCNetArtifactsMSBuildDemo<span class="nt">&lt;/artifactDirectory&gt;</span>
</span><span class='line'>        <span class="nt">&lt;modificationDelaySeconds&gt;</span>2<span class="nt">&lt;/modificationDelaySeconds&gt;</span>
</span><span class='line'>        <span class="nt">&lt;sourcecontrol</span> <span class="na">type=</span><span class="s">&quot;svn&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;trunkUrl&gt;</span>http://localhost:8181/svn/blog/MSBuildDemo<span class="nt">&lt;/trunkUrl&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/sourcecontrol&gt;</span>
</span><span class='line'>        <span class="nt">&lt;tasks&gt;</span>
</span><span class='line'>            <span class="nt">&lt;msbuild&gt;</span>
</span><span class='line'>                <span class="nt">&lt;executable&gt;</span>C:WINDOWSMicrosoft.NETFrameworkv3.5MSBuild.exe<span class="nt">&lt;/executable&gt;</span>
</span><span class='line'>                <span class="nt">&lt;projectFile&gt;</span>MSBuildDemo.proj<span class="nt">&lt;/projectFile&gt;</span>
</span><span class='line'>                <span class="nt">&lt;buildArgs&gt;</span>/p:Configuration=Debug /v:diag<span class="nt">&lt;/buildArgs&gt;</span>
</span><span class='line'>                <span class="nt">&lt;targets&gt;</span>CoberturaTestestargets&gt;
</span><span class='line'>                <span class="nt">&lt;logger&gt;</span>C:Program FilesCruiseControl.NETserverThoughtWorks.CruiseControl.MsBuild.dll<span class="nt">&lt;/logger&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/msbuild&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/tasks&gt;</span>
</span><span class='line'>        <span class="nt">&lt;publishers&gt;</span>
</span><span class='line'>            <span class="nt">&lt;merge&gt;</span>
</span><span class='line'>                <span class="nt">&lt;files&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;file&gt;</span>c:CCNetArtifactsMSBuildDemo*ResultadosTestes.xml<span class="nt">&lt;/file&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;file&gt;</span>c:CCNetArtifactsMSBuildDemo*ResumoCobertura.xml<span class="nt">&lt;/file&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/files&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/merge&gt;</span>
</span><span class='line'>            <span class="nt">&lt;xmllogger</span> <span class="nt">/&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/publishers&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/project&gt;</span>
</span><span class='line'><span class="nt">&lt;/cruisecontrol&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Vamos por partes.</p>

<p>Na linha 3 definimos o nome do projeto.</p>

<p>Na linha 4 definimos o que o CCNet usará para determinar se deve ou não executar as atividades do projeto, no caso do nosso exemplo, o CCNet irá, em um intervalo de tempo, verificar se existe alguma modificação no repositório, e se houver, executar as atividades.</p>

<p>Na linha 7 definimos uma pasta onde o CCNet vai baixar os arquivos do repositório e compilar os projetos.</p>

<p>Na linha 8 definimos uma pasta onde o CCNet irá salvar os arquivos que serão gerados como produto da compilação, como os relatórios do NUnit e do NCover.</p>

<p>Das linhas 10 a 12 definimos os dados do repositório, nesse caso o subversion.</p>

<p>Das linhas 13 a 21 definimos as tarefas, nesse caso, que a compilação será executada pelo MSBuild, onde está o executável do MSBuild, o script do MSBuild que deve ser executado, qual o target do MSBuild e logger que será usado para as atividades do MSBuild.</p>

<p>Por último das linhas 22 a 28 definimos quais arquivos gerados pelo script do MSBuild devem ser usados para gerar os relatórios do CCNet.</p>

<p>Se der tudo certo, ao acessar o dashboard você deve ver algo como:</p>

<p><img class="aligncenter" src="/images/2010/06/ScreenHunter_02%20Jun.%2019%2021.36_2.gif" title="Status do build" ></p>

<p>Clique em MSBuildDemo e você deverá ver as compilações já feitas, e pode clicar nas compilações e ver os detalhes. O importante é que a partir de agora a cada vez que for realizado um novo check-in o CCNet irá perceber que existe uma alteração e executará o script do MSBuild que definimos novamente.</p>

<p><strong>Alterando o script do MSBuild</strong></p>

<p>Se você está seguindo o exemplo feito no post anterior, precisamos fazer algumas alterações no script do MSBuild. Precisamos apenas alterar o script para que salve os arquivos do NUnit e do NCover na pasta de artefatos definida no XML que configuramos o projeto do CCNet. Quanto um script do MSBuild é executado pelo CCNet uma variável CCNetArtifactDirectory é definida com o caminho da pasta de artefatos então a tarefa do NCover ficou assim:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;NCover</span> <span class="na">ToolPath=</span><span class="s">&quot;$(CaminhoNCover)&quot;</span>
</span><span class='line'>        <span class="na">CommandLineExe=</span><span class="s">&quot;$(ComandoNUnit)&quot;</span>
</span><span class='line'>        <span class="na">CommandLineArgs=</span><span class="s">&quot;$(TestFolder)bin$(Configuration)UnitTests.dll&quot;</span>
</span><span class='line'>        <span class="na">WorkingDirectory=</span><span class="s">&quot;$(TestFolder)bin$(Configuration)&quot;</span>
</span><span class='line'>        <span class="na">CoverageFile=</span><span class="s">&quot;$(CCNetArtifactDirectory)$(ArquivoNCover)&quot;</span>
</span><span class='line'>        <span class="na">LogFile=</span><span class="s">&quot;$(ArquivoLogNCover)&quot;</span>
</span><span class='line'>        <span class="na">ExcludeAttributes=</span><span class="s">&quot;MSBuildDemo.Common.CoverageExcludeAttribute&quot;</span>
</span><span class='line'>        <span class="na">AssemblyList=</span><span class="s">&quot;@(CodeProjects-&gt;&#39;%(FileName)&#39;)&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>E as tarefas do NCover Explorer ficaram assim:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;NCoverExplorer</span> <span class="na">ToolPath=</span><span class="s">&quot;$(CaminhoNCoverExplorer)&quot;</span>
</span><span class='line'>    <span class="na">ProjectName=</span><span class="s">&quot;$(ProjectName)&quot;</span>
</span><span class='line'>    <span class="na">OutputDir=</span><span class="s">&quot;$(CCNetArtifactDirectory)&quot;</span>
</span><span class='line'>    <span class="na">CoverageFiles=</span><span class="s">&quot;$(CCNetArtifactDirectory)$(ArquivoNCover)&quot;</span>
</span><span class='line'>    <span class="na">SatisfactoryCoverage=</span><span class="s">&quot;80&quot;</span>
</span><span class='line'>    <span class="na">ReportType=</span><span class="s">&quot;3&quot;</span>
</span><span class='line'>    <span class="na">XmlReportName=</span><span class="s">&quot;ResumoCobertura.xml&quot;</span>
</span><span class='line'>    <span class="na">HtmlReportName=</span><span class="s">&quot;ResumoCobertura.html&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;NCoverExplorer</span> <span class="na">ToolPath=</span><span class="s">&quot;$(CaminhoNCoverExplorer)&quot;</span>
</span><span class='line'>    <span class="na">ProjectName=</span><span class="s">&quot;$(ProjectName)&quot;</span>
</span><span class='line'>    <span class="na">OutputDir=</span><span class="s">&quot;$(CCNetArtifactDirectory)&quot;</span>
</span><span class='line'>    <span class="na">CoverageFiles=</span><span class="s">&quot;$(CCNetArtifactDirectory)$(ArquivoNCover)&quot;</span>
</span><span class='line'>    <span class="na">SatisfactoryCoverage=</span><span class="s">&quot;80&quot;</span>
</span><span class='line'>    <span class="na">ReportType=</span><span class="s">&quot;4&quot;</span>
</span><span class='line'>    <span class="na">XmlReportName=</span><span class="s">&quot;RelatorioCoberturaPorClasse.xml&quot;</span>
</span><span class='line'>    <span class="na">HtmlReportName=</span><span class="s">&quot;RelatorioCoberturaPorClasse.html&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>E as tarefas do NUnit foram alteradas assim:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;CreateItem</span> <span class="na">Include=</span><span class="s">&quot;$(CCNetArtifactDirectory)*.$(ArquivoNUnit)&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;Include&quot;</span> <span class="na">ItemName=</span><span class="s">&quot;ExistingNUnitResults&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/CreateItem&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Delete</span> <span class="na">Files=</span><span class="s">&quot;@(ExistingNUnitResults)&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Copy</span> <span class="na">SourceFiles=</span><span class="s">&quot;@(NUnitResults)&quot;</span>
</span><span class='line'>    <span class="na">DestinationFolder=</span><span class="s">&quot;$(CCNetArtifactDirectory)&quot;</span>
</span><span class='line'>    <span class="na">ContinueOnError=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Um detalhe importante é que os nomes dos arquivos gerados pelo NUnit e pelo NCover devem ser iguais aos nomes dos arquivos dentro da tag files no projeto configurado dentro do ccnet.config. <strong>Utilizando o CCTray</strong> O CCTray é um aplicativo que instalamos e ele fica constantemente consultando o servidor do CCNet e nos avisa se algum build ou teste unitário foi quebrado. No dashboard do CCNet tem um link para fazer download do CCTray e novamente a instalação é muito simples.</p>

<p><img class="aligncenter" src="/images/2010/06/ScreenHunter_01%20Jun.%2019%2021.33_thumb.gif" title="Download CCTray" ></p>

<p>A configuração dele também é simples, após instalado, vá em File &ndash;> Settings &ndash;> Build Projects clique em Add para e depois em Add Server, aponte para o endereço onde está instalado o servidor depois em OK, agora é só selecionar o seu projeto. <strong>Customizando os relatórios do NCover Explorer</strong> Quando você baixa o NCover Explorer Extras, dentro do zip existe uma pasta Cruise Control .NET, copie os arquivos .xls que estão nessa pasta para a pasta webdashboard/xls onde foi instalado o seu CCNet. Depois a abra o arquivo dashboard.config e edite para que fique assim:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>...
</span><span class='line'><span class="nt">&lt;xslFileNames&gt;</span>
</span><span class='line'>    ...
</span><span class='line'>    <span class="nt">&lt;xslFile&gt;</span>xslNCoverExplorerSummary.xslxslFile&gt;
</span><span class='line'>    ...
</span><span class='line'><span class="nt">&lt;/xslFileNames&gt;</span>
</span><span class='line'><span class="nt">&lt;xslReportBuildPlugin</span> <span class="na">description=</span><span class="s">&quot;NCover Report&quot;</span> <span class="na">actionName=</span><span class="s">&quot;NCoverBuildReport&quot;</span> <span class="na">xslFileName=</span><span class="s">&quot;xslNCoverExplorer.xsl&quot;</span> <span class="nt">/&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Entre no dashboard e clique em Force Build, depois que o build estiver completo e você entrar pelo dashboard nesse último build, você deverá ver um relatório como o abaixo:</p>

<p><img class="aligncenter" src="/images/2010/06/ScreenHunter_02%20Jun.%2020%2015.28_2.gif" title="Relatório de testes" ></p>

<p><strong>Conclusão</strong></p>

<p>Pronto, agora sim você tem um projeto que é compilado automaticamente a cada check-in/commit, os testes unitários são executados também de forma automática e se por acaso o projeto parar de compilar ou algum teste unitário falhar o CCTray avisará com uma mensagem e inclusive fará o trabalho de dedo duro dizendo quem foi o usuário que fez o último commit com a falha.</p>

<p>O ideal é que todos do projeto tenham o CCTray e que a primeira, ou uma das primeiras atividades seja configurar o script para compilação automática.</p>

<p>Com isso você pode ter mais certeza, a cada commit, que seu código não irá causar problemas a outros e se causar, você terá uma resposta imediata, o que torna a correção do problema muito mais fácil.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/16/selecionando-o-cdigo-que-ser-contabilizado-pelo-ncover/">Selecionando o código que será contabilizado pelo NCover</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-16T00:00:00-04:00"  data-updated="true">16/06/2010</time>
        
         | <a href="/blog/2010/06/16/selecionando-o-cdigo-que-ser-contabilizado-pelo-ncover/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="/blog/2010/06/14/builds-automticos-com-msbuild-nunit-e-ncover/">No meu post anterior sobre build automático com MSBuild e NCover</a> e usei uma opção do NCover chamada ExcludeAttributes como pode ser visto na linha 7 abaixo:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;ncover</span> <span class="na">ToolPath=</span><span class="s">&quot;$(CaminhoNCover)&quot;</span>
</span><span class='line'>    <span class="na">CommandLineExe=</span><span class="s">&quot;$(ComandoNUnit)&quot;</span>
</span><span class='line'>    <span class="na">CommandLineArgs=</span><span class="s">&quot;$(TestFolder)bin$(Configuration)UnitTests.dll&quot;</span>
</span><span class='line'>    <span class="na">WorkingDirectory=</span><span class="s">&quot;$(TestFolder)bin$(Configuration)&quot;</span>
</span><span class='line'>    <span class="na">CoverageFile=</span><span class="s">&quot;$(ResultsFolder)$(ArquivoNCover)&quot;</span>
</span><span class='line'>    <span class="na">LogFile=</span><span class="s">&quot;$(ArquivoLogNCover)&quot;</span>
</span><span class='line'>    <span class="na">ExcludeAttributes=</span><span class="s">&quot;MSBuildDemo.Common.CoverageExcludeAttribute&quot;</span>
</span><span class='line'>    <span class="na">AssemblyList=</span><span class="s">&quot;@(CodeProjects-&gt;&#39;%(FileName)&#39;)&quot;</span> <span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>O que isso quer dizer e por que isso importa?</strong></p>

<p>Isso importa porque, nem todo o código que temos em nossos projetos vamos querer testar e porque esse código pode atrapalhar a métrica de percentual de código coberto pelos testes.</p>

<p>Usando como exemplo o projeto que fiz no modelo anterior que <a href="https://github.com/vintem/MSBuildDemo" target="_blank">pode ser visto aqui</a>, podemos ver que em todo projeto ASP.NET MVC algumas classes são criadas automaticamente e essas classes não precisam ser testadas (assumindo que elas funcionam e não vamos modificá-las). Outro exemplo que temos nesse projeto, são as classes geradas automaticamente pelo LINQ to SQL para mapear a base de dados.</p>

<p><strong>Como resolver?</strong></p>

<p>Para resolver esse problema eu criei a classe MSBuildDemo.Common.CoverageExcludeAttribute e configurei na tarefa do NCover como visto acima. Veja como ficou a classe:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[AttributeUsage(AttributeTargets.All)]</span>
</span><span class='line'><span class="k">public</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">CoverageExcludeAttribute</span> <span class="p">:</span> <span class="n">Attribute</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Bem simples não? Agora é só colocar esse atributo nas classes ou métodos que não queremos contar para a cobertura do código. Como nesse exemplo, veja a linha 2:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[HandleError]</span>
</span><span class='line'><span class="na">[CoverageExclude]</span>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">AccountController</span> <span class="p">:</span> <span class="n">Controller</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="c1">// ...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/06/14/builds-automticos-com-msbuild-nunit-e-ncover/">Builds automáticos com MSBuild, NUnit e NCover</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-14T00:00:00-04:00"  data-updated="true">14/06/2010</time>
        
         | <a href="/blog/2010/06/14/builds-automticos-com-msbuild-nunit-e-ncover/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>O MSBuild é a ferramenta da Microsoft usada em conjunto com o Visual Studio para compilar os projetos. Toda vez que compilamos um projeto no Visual Studio (a partir da versão 2005 pelo menos), o que acontece é que o VS chama o MSBuild para executar a tarefa de compilar os projetos da solução.</p>

<p>O bom disso é que podemos customizar a compilação/deploy para executar diversas tarefas nesse momento, entre essas atividades existem algumas como zipar o projeto compilado, enviar por email, publicar no IIS, etc. Mas eu queria falar sobre duas que tenho usado que são: executar os testes unitários e executar uma ferramenta de cobertura de código para ver qual a porcentagem de código coberto pelos testes unitários.</p>

<p><strong>O projeto demo</strong></p>

<p>Para começar, criei um solução usando o ASP.NET MVC, com um componente para acesso a dados separado do projeto de Web. Apenas como forma de mostrar o MSBuild compilando projetos diferentes.</p>

<p><img class="aligncenter" src="/images/2010/06/Diagrama%20Componentes_2.png" title="Diagrama Componentes" ></p>

<p>O projeto é bem simples, a idéia mesmo é conectar no intergalaxialmente famoso banco de dados Northwind e exibir os dados da tabela de categorias. Uau!!! Uma tarefa que consumirá horas, mas, como eu disse o foco é mostrar um pouco do funcionamento do MSBuild. <a href="https://github.com/vintem/MSBuildDemo" target="_blank">O código da aplicação está disponível aqui.</a></p>

<p><strong>Pré-requisitos</strong></p>

<p>O MSBuild é instalado junto com o Visual Studio, mas existem algumas coisas que você vai precisar para rodar esse demo. Espero que você já tenha o <a href="http://www.nunit.org/index.php?p=download" target="_blank">NUnit</a> instalado, eu estou usando a versão 2.5.3. Além do NUnit você vai precisar:</p>

<ul>
    <li><a href="http://www.ncover.com/download/file?filename=NCover-1.5.8.zip" target="_blank">NCover</a> - eles pedem um cadastro e existem versões pagas, mas a versão 1.5.8 é gratuita e serve para os nossos propósitos.</li>
    <li><a href="http://www.kiwidude.com/dotnet/NCoverExplorer-1.4.0.7.zip" target="_blank">NCoverExplorer</a> - para gerar um relatório mais amigável do NCover.</li>
    <li><a href="http://www.kiwidude.com/dotnet/NCoverExplorer.Extras-1.4.0.5.zip" target="_blank">NCoverExplorer Extras</a> - possui tarefas customizadas para o MSBuild executar o NCoverExplorer.</li>
    <li><a href="http://msbuildtasks.tigris.org/" target="_blank">MSBuild Community Tasks</a> - tarefas customizadas feitas para o MSBuild.</li>
</ul>


<p>O NUnit, NCover e o MSBuild Community Tasks possuem instaladores próprios.O NCoverExplorer e o NCoverExplorer Extras são um pouco diferentes. O NCoverExplorer não precisa de instalação, por isso eu já inclui dentro do zip com o código, na pasta tools.</p>

<p>Quando você baixar o NCoverExplorer Extras terá uma pasta zip e dentro dela uma dll chamada NCoverExplorer.MSBuildTasks.dll, eu, apenas por uma questão de organização criei uma pasta c:Program FilesNCoverBuild Task Plugins e copiei essa dll lá dentro.</p>

<p>Pronto, isso é tudo o que é necessário para rodar o MSBuild.</p>

<p><strong>Entenda o arquivo do MSBuild</strong></p>

<p>Depois de baixar, olhar o código e os testes unitários abra o arquivo MSBuildDemo.proj.</p>

<p><img class="aligncenter" src="/images/2010/06/ScreenHunter_01%20Jun.%2011%2018.09_2.gif"></p>

<p>O arquivo MSBuildDemo.proj nada mais é do que um arquivo xml. Então vamos começar a entendê-lo.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;Project</span> <span class="na">DefaultTargets=</span><span class="s">&quot;Build&quot;</span>
</span><span class='line'><span class="na">ToolsVersion=</span><span class="s">&quot;3.5&quot;</span>
</span><span class='line'><span class="na">InitialTargets=</span><span class="s">&quot;BuscaProjetos&quot;</span>
</span><span class='line'><span class="na">xmlns=</span><span class="s">&quot;http://schemas.microsoft.com/developer/msbuild/2003&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!--</span>
</span><span class='line'><span class="c">Baixar MSBuildCommunity tasks de http://msbuildtasks.tigris.org/</span>
</span><span class='line'><span class="c">--&gt;</span>
</span><span class='line'><span class="nt">&lt;Import</span> <span class="na">Project=</span><span class="s">&quot;$(MSBuildExtensionsPath)\MSBuildCommunityTasks\MSBuild.Community.Tasks.Targets&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;PropertyGroup&gt;</span>
</span><span class='line'><span class="nt">&lt;SolutionName&gt;</span>MSBuildDemo.sln<span class="nt">&lt;/SolutionName&gt;</span>
</span><span class='line'><span class="nt">&lt;CodeFolder&gt;</span>$(MSBuildProjectDirectory)<span class="nt">&lt;/CodeFolder&gt;</span><span class="c">&lt;!-- Variavel do MSBuild com diretorio do projeto --&gt;</span>
</span><span class='line'><span class="nt">&lt;TestFolder&gt;</span>$(MSBuildProjectDirectory)\tests\UnitTests<span class="nt">&lt;/TestFolder&gt;</span>
</span><span class='line'><span class="nt">&lt;ResultsFolder&gt;</span>$(MSBuildProjectDirectory)\Results<span class="nt">&lt;/ResultsFolder&gt;</span>
</span><span class='line'><span class="nt">&lt;Configuration</span> <span class="na">Condition=</span><span class="s">&quot; &#39;$(Configuration)&#39; == &#39;&#39; &quot;</span><span class="nt">&gt;</span>Debug<span class="nt">&lt;/Configuration&gt;</span>
</span><span class='line'><span class="nt">&lt;Platform</span> <span class="na">Condition=</span><span class="s">&quot; &#39;$(Platform)&#39; == &#39;&#39; &quot;</span><span class="nt">&gt;</span>AnyCPU<span class="nt">&lt;/Platform&gt;</span>
</span><span class='line'><span class="nt">&lt;/PropertyGroup&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;PropertyGroup&gt;</span>
</span><span class='line'><span class="nt">&lt;CaminhoNUnit&gt;</span>C:\Program Files\NUnit 2.5.3\bin\net-2.0\<span class="nt">&lt;/CaminhoNUnit&gt;</span>
</span><span class='line'><span class="nt">&lt;ComandoNUnit&gt;</span>$(CaminhoNUnit)nunit-console.exe<span class="nt">&lt;/ComandoNUnit&gt;</span>
</span><span class='line'><span class="nt">&lt;ArquivoNUnit&gt;</span>ResultadosTestes.xml<span class="nt">&lt;/ArquivoNUnit&gt;</span>
</span><span class='line'><span class="nt">&lt;CaminhoNCover&gt;</span>C:\Program Files\NCover<span class="nt">&lt;/CaminhoNCover&gt;</span>
</span><span class='line'><span class="nt">&lt;ArquivoNCover&gt;</span>ResultadoNCover.xml<span class="nt">&lt;/ArquivoNCover&gt;</span>
</span><span class='line'><span class="nt">&lt;ArquivoLogNCover&gt;</span>Coverage.log<span class="nt">&lt;/ArquivoLogNCover&gt;</span>
</span><span class='line'><span class="nt">&lt;CaminhoNCoverExplorer&gt;</span>$(MSBuildProjectDirectory)\tools\NCoverExplorer<span class="nt">&lt;/CaminhoNCoverExplorer&gt;</span>
</span><span class='line'><span class="nt">&lt;/PropertyGroup&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Primeiro, veja que na linha 9 apontamos para a nossa dll instalada pelo MSBuild Community Tasks.</p>

<p>O resto do código acima é bem fácil de entender, estamos definindo variáveis que vamos usar depois nas tarefas de deploy, algumas coisas que valem mencionar.</p>

<ul>
    <li>Definição do arquivo .sln na linha 12</li>
    <li>Definição dos caminhos das ferramentas no bloco que vai da linha 20 a 28</li>
</ul>


<p>Agora precisamos identificar os projetos da solução que serão compilados e os projetos de testes, faremos assim:</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;BuscaProjetos&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- Busca todos os projetos da solucao --&gt;</span>
</span><span class='line'><span class="nt">&lt;GetSolutionProjects</span> <span class="na">Solution=</span><span class="s">&quot;$(CodeFolder)\$(SolutionName)&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;Output&quot;</span> <span class="na">ItemName=</span><span class="s">&quot;ProjetosSolucao&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/GetSolutionProjects&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- Busca os projetos de Testes --&gt;</span>
</span><span class='line'><span class="nt">&lt;RegexMatch</span> <span class="na">Input=</span><span class="s">&quot;@(ProjetosSolucao)&quot;</span> <span class="na">Expression=</span><span class="s">&quot;.*?[\.]?(Test[s]{0,1}|IntegrationTest)[\.]csproj$&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;Output&quot;</span> <span class="na">ItemName=</span><span class="s">&quot;ProjetosTeste&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/RegexMatch&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- Separa somente os projetos da solução sem os testes --&gt;</span>
</span><span class='line'><span class="nt">&lt;CreateItem</span> <span class="na">Include=</span><span class="s">&quot;@(ProjetosSolucao)&quot;</span>
</span><span class='line'><span class="na">Exclude=</span><span class="s">&quot;@(ProjetosTeste)&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;Include&quot;</span> <span class="na">ItemName=</span><span class="s">&quot;CodeProjects&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/CreateItem&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Vale mencionar aqui que a propriedade ItemName de cada tag Output é uma váriavel criada que pode ser utilizada depois. Basicamente estamos buscando todos os projetos da solução, usando uma Expressão Regular para encontrar os Projetos que tenham a palavra Test ou IntegrationTest para encontrar os projetos de testes e separando os dois tipos de projetos. Agora vamos compilar os projetos que não são testes.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;Build&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Message</span> <span class="na">Text=</span><span class="s">&quot;#--------- Compilando Projetos ---------#&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- Compila os assemblies --&gt;</span>
</span><span class='line'><span class="nt">&lt;MSBuild</span> <span class="na">Projects=</span><span class="s">&quot;@(CodeProjects)&quot;</span>
</span><span class='line'><span class="na">Targets=</span><span class="s">&quot;$(BuildTargets)&quot;</span>
</span><span class='line'><span class="na">Properties=</span><span class="s">&quot;Configuration=$(Configuration);Platform=$(Platform)&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;TargetOutputs&quot;</span>
</span><span class='line'><span class="na">ItemName=</span><span class="s">&quot;CodeAssemblies&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/MSBuild&gt;</span>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>E agora compilamos os projetos de Testes</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;BuildTests&quot;</span> <span class="na">DependsOnTargets=</span><span class="s">&quot;Build&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Message</span> <span class="na">Text=</span><span class="s">&quot;#--------- Compilando Testes ---------#&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;MSBuild</span> <span class="na">Projects=</span><span class="s">&quot;@(ProjetosTeste)&quot;</span>
</span><span class='line'><span class="na">Targets=</span><span class="s">&quot;$(BuildTargets)&quot;</span>
</span><span class='line'><span class="na">Properties=</span><span class="s">&quot;Configuration=$(Configuration);Platform=$(Platform)&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;TargetOutputs&quot;</span>
</span><span class='line'><span class="na">ItemName=</span><span class="s">&quot;AssembliesTeste&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/MSBuild&gt;</span>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>E a última etapa é rodar o NCover e o NCoverExplorer</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;Tests&quot;</span> <span class="na">DependsOnTargets=</span><span class="s">&quot;BuildTests&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;Message</span> <span class="na">Text=</span><span class="s">&quot;#--------- Executando NUnit ---------#&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;NUnit</span> <span class="na">Assemblies=</span><span class="s">&quot;@(AssembliesTeste)&quot;</span>
</span><span class='line'><span class="na">ToolPath=</span><span class="s">&quot;$(CaminhoNUnit)&quot;</span>
</span><span class='line'><span class="na">WorkingDirectory=</span><span class="s">&quot;%(AssembliesTeste.RootDir)%(AssembliesTeste.Directory)&quot;</span>
</span><span class='line'><span class="na">OutputXmlFile=</span><span class="s">&quot;@(AssembliesTeste-&gt;&#39;%(FullPath).$(ArquivoNUnit)&#39;)&quot;</span>
</span><span class='line'><span class="na">ContinueOnError=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;Output</span> <span class="na">TaskParameter=</span><span class="s">&quot;ExitCode&quot;</span> <span class="na">ItemName=</span><span class="s">&quot;NUnitExitCodes&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/NUnit&gt;</span>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;UsingTask</span> <span class="na">TaskName=</span><span class="s">&quot;NCoverExplorer.MSBuildTasks.NCover&quot;</span> <span class="na">AssemblyFile=</span><span class="s">&quot;$(CaminhoNCover)\Build Task Plugins\NCoverExplorer.MSBuildTasks.dll&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;UsingTask</span> <span class="na">TaskName=</span><span class="s">&quot;NCoverExplorer.MSBuildTasks.NCoverExplorer&quot;</span> <span class="na">AssemblyFile=</span><span class="s">&quot;$(CaminhoNCover)\Build Task Plugins\NCoverExplorer.MSBuildTasks.dll&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;Target</span> <span class="na">Name=</span><span class="s">&quot;CoberturaTestes&quot;</span> <span class="na">DependsOnTargets=</span><span class="s">&quot;Tests&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;Message</span> <span class="na">Text=</span><span class="s">&quot;#--------- Executando NCover ---------#&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;MakeDir</span> <span class="na">Directories=</span><span class="s">&quot;$(ResultsFolder)&quot;</span> <span class="na">Condition=</span><span class="s">&quot;!Exists(&#39;$(ResultsFolder)&#39;)&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;NCover</span> <span class="na">ToolPath=</span><span class="s">&quot;$(CaminhoNCover)&quot;</span>
</span><span class='line'><span class="na">CommandLineExe=</span><span class="s">&quot;$(ComandoNUnit)&quot;</span>
</span><span class='line'><span class="na">CommandLineArgs=</span><span class="s">&quot;$(TestFolder)\bin\$(Configuration)\UnitTests.dll&quot;</span>
</span><span class='line'><span class="na">WorkingDirectory=</span><span class="s">&quot;$(TestFolder)\bin\$(Configuration)&quot;</span>
</span><span class='line'><span class="na">CoverageFile=</span><span class="s">&quot;$(ResultsFolder)\$(ArquivoNCover)&quot;</span>
</span><span class='line'><span class="na">LogFile=</span><span class="s">&quot;$(ArquivoLogNCover)&quot;</span>
</span><span class='line'><span class="na">ExcludeAttributes=</span><span class="s">&quot;MSBuildDemo.Common.CoverageExcludeAttribute&quot;</span>
</span><span class='line'><span class="na">AssemblyList=</span><span class="s">&quot;@(CodeProjects-&gt;&#39;%(FileName)&#39;)&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- Resumo da Cobertura --&gt;</span>
</span><span class='line'><span class="nt">&lt;NCoverExplorer</span> <span class="na">ToolPath=</span><span class="s">&quot;$(CaminhoNCoverExplorer)&quot;</span>
</span><span class='line'><span class="na">ProjectName=</span><span class="s">&quot;$(ProjectName)&quot;</span>
</span><span class='line'><span class="na">OutputDir=</span><span class="s">&quot;$(ResultsFolder)&quot;</span>
</span><span class='line'><span class="na">CoverageFiles=</span><span class="s">&quot;$(ResultsFolder)\$(ArquivoNCover)&quot;</span>
</span><span class='line'><span class="na">SatisfactoryCoverage=</span><span class="s">&quot;80&quot;</span>
</span><span class='line'><span class="na">ReportType=</span><span class="s">&quot;3&quot;</span>
</span><span class='line'><span class="na">XmlReportName=</span><span class="s">&quot;ResumoCobertura.xml&quot;</span>
</span><span class='line'><span class="na">HtmlReportName=</span><span class="s">&quot;ResumoCobertura.html&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;NCoverExplorer</span> <span class="na">ToolPath=</span><span class="s">&quot;$(CaminhoNCoverExplorer)&quot;</span>
</span><span class='line'><span class="na">ProjectName=</span><span class="s">&quot;$(ProjectName)&quot;</span>
</span><span class='line'><span class="na">OutputDir=</span><span class="s">&quot;$(ResultsFolder)&quot;</span>
</span><span class='line'><span class="na">CoverageFiles=</span><span class="s">&quot;$(ResultsFolder)\$(ArquivoNCover)&quot;</span>
</span><span class='line'><span class="na">SatisfactoryCoverage=</span><span class="s">&quot;80&quot;</span>
</span><span class='line'><span class="na">ReportType=</span><span class="s">&quot;4&quot;</span>
</span><span class='line'><span class="na">XmlReportName=</span><span class="s">&quot;RelatorioCoberturaPorClasse.xml&quot;</span>
</span><span class='line'><span class="na">HtmlReportName=</span><span class="s">&quot;RelatorioCoberturaPorClasse.html&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'><span class="nt">&lt;/Target&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>No código acima mandamos gerar dois relatórios e, entre outras coisas, definimos que queremos que nosso código tenha 80% de cobertura. Pronto, temos aqui um script para compilar, executar os testes e a cobertura de testes. Agora, como rodamos isso? Abra o Visual Studio Command Prompt, pra quem não sabe, veja onde ele está:</p>

<p><img class="aligncenter" src="/images/2010/06/ScreenHunter_02%20Jun.%2011%2018.53_2.gif"></p>

<p>Vá até a pasta onde está o arquivo MSBuildDemo.proj e digite MSBuild MSBuildDemo.proj Se você executar isso, os projetos serão apenas compilados porque no início do script definimos como atividade padrão a target Build.</p>

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'> 1: DefaultTargets=&quot;Build&quot;
</span></code></pre></td></tr></table></div></figure>


<p>Targets, são tarefas ou conjuntos de tarefas que podem ser definidas. Queremos executar a tarefa CoberturaTestes, porque se você prestar atenção no script ela depende da tarefa Tests que por sua vez depende de BuildTests que depende de Build, ou seja executando CoberturaTestes todo o script será executado, então rode o comando:</p>

<p>MSBuild MSBuildDemo.proj /target:CoberturaTestes</p>

<p>Se tudo der certo e sob as condições ideais de temperatura você deve ver algo como:</p>

<p><img src="/images/2010/06/ScreenHunter_03%20Jun.%2011%2019.01_2.gif"></p>

<p>Além disso, de acordo com nosso script foi criada uma pasta dentro do diretório da solução chamada Results, ali você pode ver o resultado da cobertura de testes. Abrindo o arquivo RelatorioCobertura.html veremos:</p>

<p><img class="aligncenter" src="/images/2010/06/image_2.png"></p>

<p>Além disso, se você olhar um pouco mais acima na tela do prompt verá o resultado da execução dos testes unitários:</p>

<p><img class="aligncenter" src="/images/2010/06/image_4.png"></p>

<p>Pronto, seus testes unitários são sempre executados e você já sabe quanto falta para testar seu código.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/05/30/seu-nome-seu-legado/">Seu nome, seu legado</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-30T00:00:00-04:00"  data-updated="true">30/05/2010</time>
        
         | <a href="/blog/2010/05/30/seu-nome-seu-legado/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class="aligncenter" id="scid:5737277B-5D6D-4f48-ABFC-DD9C333F4C5D:1caa83e9-6b23-4669-9313-b67633b66df4" style="margin: 0px; padding: 0px; display: inline; float: none;">
<div><object height="355" width="425">
<param value="http://www.youtube.com/v/26DTsHQ42SM&hl=en" name="movie" /><embed height="355" width="425" type="application/x-shockwave-flash" src="http://www.youtube.com/v/26DTsHQ42SM&hl=en" /></object></div>
</div>




<blockquote><p>&#8220;Conquistas só duram até alguém as estragarem. Fracassos duram para sempre.&#8221;</p><footer><strong>Dr. House</strong></footer></blockquote>




<p align="left">Meio dramático eu tenho que admitir, mas no momento que eu vi essa cena eu (infelizmente) pude lembrar de vários momentos que já enfrentei.</p>


<p align="left">Não é raro nesse mundo da informática, e eu aposto que você já conhece bem a história, você faz alguma coisa que todo mundo gosta, supera algumas expectativas e recebe aquele bom e velho tapinha nas costas (dinheiro pra que né). Parece que está tudo bem, você se sente ótimo, digamos um &#8220;Rei do mundo&#8221;. <img class="alignright" src="/images/2010/05/titanic_dicaprio_thumb.jpg"> Mas é só alguma coisa dar errada e pronto, parece que tudo que foi feito é esquecido e de repente você não é mais o rei do mundo de ninguém.   </p>


<p>A primeira lição que eu tiro disso é: cuidado onde você coloca o seu nome. Sim, porque o google tem uma memória incrível, então não é qualquer projeto que está por aí que deve ter seu nome assinado embaixo. É claro, quando trabalhamos para uma empresa a gente nem sempre escolhe o que pode fazer, mas aí entram duas questões (1) fazer sempre o que você puder de melhor, afinal, para as pessoas que estão convivendo e trabalhando com você, é o seu nome que está em jogo (2) considere se, o que você faz e onde você faz está de acordo com o que você acredita e com o que é o melhor para você, afinal de contas, isso fará parte da sua história e do nome que você vai levar para frente.</p>


<p>A minha segunda lição vem da resposta dada ao House, coisas ruins acontecem e nós devemos superá-las, não é porque você fez uma besteira que você tem que ficar marcado por isso para o resto da vida. Uma coisa que eu aprendi ouvindo o <a target="_blank" href="http://blog.stackoverflow.com/category/podcasts/">podcast do stackoverflow</a> foi que se você quer que apareçam boas referências a seu respeito quando você consulta seu nome no google, você deve trabalhar para isso. Faça bons sistemas, participe de comunidades, envolva-se com projetos open source, faça seu nome conhecido pelo que você tem de bom.</p>


<p>Coisas ruins vão acontecer, as pessoas vão lembrar delas, é seu trabalho fazer com que elas lembrem principalmente das boas coisas que você fez.</p>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/26/publicando-um-site-octopress-usando-github-pages-em-uma-nova-maquina-de-dev/">Publicando um site Octopress usando GitHub pages a partir de um novo computador</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/25/instalando-uma-maquina-de-desenvolvimento-com-dois-comandos/">Instalando uma máquina de desenvolvimento com dois comandos</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/30/responsabilidade-unica-com-javascript/">Só é uma bagunça se você deixar. Responsabilidade única com JavaScript</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/23/meu-ted-talk-favorito/">Meu TED Talk favorito</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/16/programacao-orientada-a-coincidencia/">Programação orientada à coincidência</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Thiago Temple -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>


<script type="text/javascript">
var sc_project=5357260;
var sc_invisible=1;
var sc_security="14d7610a";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" + scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web stats"
href="http://statcounter.com/free-web-stats/" target="_blank"><img
class="statcounter" src="http://c.statcounter.com/5357260/0/14d7610a/1/"
alt="web stats"></a></div></noscript>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'templecoding';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
