
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Temple Coding</title>
  <meta name="author" content="Thiago Temple">

  
  <meta name="description" content="Dessa vez eu quero falar sobre uma questão bem simples, o problema do ponto e vírgula e das chaves. Sofrendo menos com JavaScript
Esse post faz &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://templecoding.com/blog/page/3">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Temple Coding" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  

</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Temple Coding</a></h1>
  
    <h2>código, tecnologia e outras nerdices</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:templecoding.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Procurar"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivos</a></li>
  <li><a href="/blog/categories/videocast">Videocast</a></li>
  <li><a href="/sobre">Sobre</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/21/javascript-ponto-virgula/">JavaScript e o problema com o ponto e vírgula</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-21T00:00:00-05:00" pubdate data-updated="true">21/11/2012</time>
        
         | <a href="/blog/2012/11/21/javascript-ponto-virgula/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<p>Dessa vez eu quero falar sobre uma questão bem simples, o problema do ponto e vírgula e das chaves.</p>

<div style="margin: 5px 0px; border: #f48432 1px dashed; padding: 5px;"><strong>Sofrendo menos com JavaScript</strong>
Esse post faz parte de uma série, confira os outros já feitos:
<ol>
    <li><a href="http://templecoding.com/declarao-de-variveis-com-javascript/">Declaração de variáveis com JavaScript</a></li>
    <li><a href="http://templecoding.com/elevao-em-javascript/">Elevação em JavaScript</a></li>
    <li><a href="http://templecoding.com/converter-numeros-em-javascript-e-uma-droga/">Converter números em JavaScript é uma droga</a></li>
    <li>JavaScript e o problema com o ponto e vírgula</li>
    <li><a href="http://templecoding.com/escopo-no-javascript/">Escopo no JavaScript: esse this não é daqui</a></li>
    <li><a href="http://templecoding.com/funcoes-de-callback-no-javascript/">Funções de callback</a></li>
    <li><a href="http://templecoding.com/tratamento-excecoes-javascript/">Tratamento de exceções em JavaScript</a></li>
    <li><a href="http://templecoding.com/construtores-de-arrays-do-javascript/">Construtores de Arrays</a></li>
    <li><a href="http://templecoding.com/loops-for-in-no-javascript/">Loops for in</a></li>
</ol>
</div>


<p>O JavaScript tenta nos ajudar cada vez que esquecemos ou simplesmente deixamos de colocar um ponto e vírgula no final de uma linha.</p>

<p>Assim, o código abaixo funciona perfeitamente:</p>

<pre class="brush: js;">var nome  = "Thiago"
nome = "Thiago Temple"
console.log(nome)</pre>


<p>Dito isso, um outro ponto relevante para esse caso é que o JavaScript também suporta duas formas diferentes de usar as chaves {}. Os dois exemplos abaixo funcionam da mesma maneira.</p>

<pre class="brush: js;">if(true) {
}

if(true)
{
}</pre>


<p>Agora, vamos dizer que eu tenha uma função que retorna um objeto, como as duas funções abaixo:</p>

<pre class="brush: js;">function getNome1() {
  return {
    nome: "Thiago"
  };
}
console.log(getNome1().nome); // Thiago

function getNome2() {
    return
    {
        nome: "Thiago"
    };
}
console.log(getNome2().nome); // syntax error</pre>


<p>No exemplo acima a função getNome1 funciona normalmente, mas no segundo caso, a função getNome2 retorna um erro. Isso acontece porque o JavaScript entende que, depois da palavra chave return, está faltando um ponto e vírgula e automaticamente insere um. Obviamente, tudo que está depois desse ponto e vírgula passa a não ter nenhum sentido e vira um erro de sintaxe.</p>

<h2>Solução</h2>


<p>É bem simples nesse caso, use sempre a abertura de chave na mesma linha da instrução, como na função getNome1 e o problema estará resolvido.</p>

<pre class="brush: js;">function getNome1() {
  return {
    nome: "Thiago"
  };
}
console.log(getNome1().nome); // Thiago</pre>


<p>E também sempre coloque o ponto e vírgula ao final das sentenças, nesse caso é melhor ser explícito do que confiar no JavaScript.<!--:--></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/14/analise-do-surface/">O Surface é um ótimo Tablet e um bom Notebook</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-14T00:00:00-05:00" pubdate data-updated="true">14/11/2012</time>
        
         | <a href="/blog/2012/11/14/analise-do-surface/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2 lang="pt-BR">Uma análise do Surface (de um humilde proprietário)</h2>


<p lang="pt-BR">Eu comprei e estou usando o novo <a href="http://www.amazon.com/gp/product/B009XKJ4H8/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=B009XKJ4H8&amp;linkCode=as2&amp;tag=tempcodi0f-20">Tablet da Microsoft, o Surface</a>, já faz pouco mais de uma semana. Como algumas pessoas me perguntaram o que eu estava achando, eu resolvi escrever um post fazendo uma pequena análise do Surface.</p>




<h2 lang="pt-BR"><a href="http://templecoding.com/wp-content/uploads/2012/11/surface.jpg"><img class=" wp-image-863 alignleft" title="Surface" src="http://templecoding.com/wp-content/uploads/2012/11/surface-300x255.jpg" alt="Surface" width="300" height="255" /></a></h2>


<p lang="pt-BR">Como eu nunca tive um outro Tablet antes (mas já usei outros), eu não vou me incomodar de fazer comparações com outros da concorrência (ainda mais quando a única novidade é só um tamanho de Tablet menor), vou apenas passar as minhas opiniões de novo usuário de Tablet.</p>


<p lang="pt-BR">A primeira impressão que eu tive, logo que peguei meu Surface foi de um produto com um ótimo acabamento, do corpo do Tablet, à bela tela widescreen e o teclado que é também capa do Tablet, tudo parece ser feito para durar.</p>




<h2 lang="pt-BR">O melhor</h2>


<p lang="pt-BR">A melhor parte com certeza é o Touch Cover, uma capa de 3 milímetros que é também um teclado. É impressionante como algo tão fino pode funcionar tão bem como um teclado. Honestamente, foi isso que me vendeu o Surface, eu queria um Tablet onde eu fosse capaz de escrever textos (como este que estou fazendo agora). É bem verdade que o teclado exige um período de adaptação, mas ele funciona muito bem!</p>


<p lang="pt-BR"><a href="http://templecoding.com/wp-content/uploads/2012/11/72059170-d819-46bb-a458-73a8e271501d.jpg"><img class="size-medium wp-image-881 alignleft" title="Surface Touch Cover" src="http://templecoding.com/wp-content/uploads/2012/11/72059170-d819-46bb-a458-73a8e271501d-300x207.jpg" alt="Surface Touch Cover" width="300" height="207" /></a>A nova versão do Windows foi feita com a intenção de funcionar bem com o toque. E como funciona! Dos tiles, à maneira como fazemos alt+tab, aos charms, tudo é muito intuitivo.</p>


<p lang="pt-BR">O Internet Explorer 10 funciona muito bem! É rápido e aproveita muito bem as capacidades full screen do Tablet.</p>


<p lang="pt-BR">Não é só um Tablet pra internet, vem com o a nova versão do Office 2013, pelo menos com o Word, Excel, PowerPoint e OneNote.</p>


<p lang="pt-BR"><a href="http://templecoding.com/wp-content/uploads/2012/11/Surface_multitarefa.png"><img class="size-medium wp-image-867 alignright" title="Surface multitarefa" src="http://templecoding.com/wp-content/uploads/2012/11/Surface_multitarefa-300x168.png" alt="Surface multitarefa" width="300" height="168" /></a></p>


<p lang="pt-BR">É realmente multitarefa, eu consigo ouvir música, usar o twitter, ver vídeo, trabalhar com o Office, tudo ao mesmo tempo. Mas o melhor disso é que eu consigo ver duas aplicações rodando ao mesmo tempo na mesma tela. Como na foto ao lado que mostra o Excel e o Twitter abertos ao mesmo tempo.</p>


<p lang="pt-BR">Entrada de cartão MicroSD. Atualmente existem duas versões do Surface, de 32 GB e 64 GB, eu comprei a de 32 GB porque com uma entrada de cartão MicroSD, eu posso comprar um cartão desses por menos dinheiro do que comprar o Surface 64GB.</p>


<p lang="pt-BR">Porta USB
Bluetooth
Saída de vídeo em HD</p>




<h2 lang="pt-BR">O pior</h2>


<p lang="pt-BR">Ainda existem poucas aplicações disponíveis, muitas delas a gente vê, foram entregues às pressas, ou seja, não são muito boas. E o fato de (pelo menos nessa versão) não poder instalar aplicações nativas do Windows (a versão atual do Surface roda o Windows RT) também reduz a variedade de aplicativos.</p>


<p lang="pt-BR">O som dos auto-falantes não é aquelas coisas, a gente consegue escutar, mas se o ambiente tiver algum barulho a compreensão vai ficar prejudicada.</p>


<p lang="pt-BR">As duas câmeras (frontal e traseira) são razoáveis, dá pro gasto, mas existem celulares com câmeras melhores.</p>




<h2 lang="pt-BR">Veredito</h2>


<p lang="pt-BR">Se fosse para eu ter um Surface como único computador da casa, ele não serviria. Apesar de muito versátil, ainda faltam aplicações, e é claro, se trata de uma tela de 10 polegadas com um teclado do mesmo tamanho.</p>


<p lang="pt-BR">Dito isso, onde fica claro o seu uso é na portabilidade. A bateria, com um uso regular, que no meu caso quer dizer usar à noite e às vezes durante o almoço dura de 2 a 3 dias. Ter o Office e também o teclado de toque faz com seja um dispositivo pra uso no trabalho também. É possível comprar um sem o teclado, mas honestamente eu não consigo imaginar porque alguém faria isso.</p>


<p lang="pt-BR">Por fim, não é uma máquina para programar, não acho que 2 GB de RAM serviria para isso. Agora, se você quer usar a internet, escrever textos e planilhas e carregar um computador leve com você, na minha opinião, não tem como errar com o Surface.</p>


<!--:-->

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/12/converter-numeros-em-javascript-e-uma-droga/">Converter números em JavaScript é uma droga</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-12T00:00:00-05:00" pubdate data-updated="true">12/11/2012</time>
        
         | <a href="/blog/2012/11/12/converter-numeros-em-javascript-e-uma-droga/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<p>Ok, essa é eu confesso, converter números em JavaScript é uma droga. Não tem nada de bom, nada de lógico (pelo menos, não pra minha mente limitada).</p>

<p><a href="http://templecoding.com/wp-content/uploads/2012/11/article-new_ehow_images_a08_5u_hc_use-javascript-display-prime-factors-800x800.jpg"><img style="border: 0px currentColor; padding-top: 0px; padding-right: 0px; padding-left: 0px; margin-right: auto; margin-left: auto; display: block; background-image: none;" title="Converter números em JavaScript" src="http://templecoding.com/wp-content/uploads/2012/11/article-new_ehow_images_a08_5u_hc_use-javascript-display-prime-factors-800x800_thumb.jpg" alt="Converter números em JavaScript" width="404" height="271" border="0" /></a></p>

<p>O JavaScript tenta ajudar adivinhando o que a gente quer fazer com base nos parâmetros passados, mas é uma verdadeira lástima. Enfim, esse é um trabalho que a gente volta e meia tem que fazer, então o melhor, pelo menos, é saber como isso funciona.</p>

<div style="margin: 5px 0px; border: #f48432 1px dashed; padding: 5px;"><strong>Sofrendo menos com JavaScript</strong>
Esse post faz parte de uma série, confira os outros já feitos:
<ol>
    <li><a href="http://templecoding.com/declarao-de-variveis-com-javascript/">Declaração de variáveis com JavaScript</a></li>
    <li><a href="http://templecoding.com/elevao-em-javascript/">Elevação em JavaScript</a></li>
    <li>Converter números em JavaScript é uma droga</li>
    <li><a href="http://templecoding.com/javascript-ponto-virgula/">JavaScript e o problema com o ponto e vírgula</a></li>
    <li><a href="http://templecoding.com/escopo-no-javascript/">Escopo no JavaScript: esse this não é daqui</a></li>
    <li><a href="http://templecoding.com/funcoes-de-callback-no-javascript/">Funções de callback</a></li>
    <li><a href="http://templecoding.com/tratamento-excecoes-javascript/">Tratamento de exceções em JavaScript</a></li>
    <li><a href="http://templecoding.com/construtores-de-arrays-do-javascript/">Construtores de Arrays</a></li>
    <li><a href="http://templecoding.com/loops-for-in-no-javascript/">Loops for in</a></li>
</ol>
</div>


<h2>Converter números em JavaScript com parseInt</h2>


<p>A função mais comum para converter números em JavaScript é a parseInt. A função parseInt aceita dois parâmetros, o primeiro é a string para ser convertida, e o segundo é a base. A segundo parâmetro não é o obrigatório e, nesse caso, o JavaScript vai tentar adivinhar qual a base que estamos tentando usar com base na string passada.</p>

<p><em>** Alguns browsers já corrigem o problema abaixo, mas na especificação do JavaScript é assim que funciona e, por exemplo, a versão atual do FireFox (16) funciona assim.</em></p>

<p>Por exemplo:</p>

<pre class="brush: js;">console.log(parseInt("10")); // 10
console.log(parseInt("010")); // 8</pre>


<p>No exemplo acima a gente espera que o número gerado seja 10 nos dois casos, mas no segundo caso, por causa do zero inicial, o JavaScript entende que é um número de base 8.</p>

<p>Ainda por causa do zero no início da string, a conversão abaixo retorna zero porque não existe 9 na base 8.</p>

<pre class="brush: js;">console.log(parseInt("09")); // 0</pre>


<p>Seguindo esse mesmo raciocínio, no exemplo abaixo a interpretação é de que se trata de um número na base 16. O 0x diz que se trata de um número na base 16.</p>

<pre class="brush: js;">console.log(parseInt("0x10")); // 16</pre>


<p>Outra coisa bem peculiar do parseInt; é que ele para de fazer análise da string no momento em que encontrar algum caracter não numérico, por exemplo o exemplo abaixo retorna 12, mesmo tendo caracteres não numéricos na string.</p>

<pre class="brush: js;">console.log(parseInt("12 das")); //12</pre>


<p>Por causa de todos essas questões, a forma mais segura de converter números em JavaScript usando o parseInt é sempre informar a base desejada:</p>

<pre class="brush: js;">console.log(parseInt("10", 10)); // 10
console.log(parseInt("010", 10)); // 10
console.log(parseInt("09", 10)); // 9</pre>


<h2>Usando operadores + - * /</h2>


<p>É possível converter uma string fazendo uma operação dela com outro número. Se eu fizer:</p>

<pre class="brush: js;">console.log("10" * 2); // 20
console.log("10" - 2); // 8
console.log("10" / 2); // 5</pre>


<p>Eu vou obter o resultado esperado, o JavaScript vai converter o texto para um número e retornar o resultado correto. Mas se eu usar o operador +:</p>

<pre class="brush: js;">console.log("10" + 2) // 102</pre>


<p>Quando se usa o operador + com uma string, o JavaScript vai sempre concatenar, mesmo que o segundo parâmetro seja um número.</p>

<h2>A função Number</h2>


<p>Mais uma opção para converter números é com a função Number, o problema com a função Number é que ela não mantém <span style="text-decoration: line-through;">a mesma loucura</span> o mesmo padrão de parseInt, Number usa sempre a base 10, por exemplo:</p>

<pre class="brush: js;">console.log(Number("10")); // 10
console.log(Number("010")); // 10
console.log(Number("09")); // 9</pre>


<p>E claro, no caso de uma string que tenha números e textos, a função Number não analisa a string até achar um caracter não numérico, ela retorna NaN (Not a Number).</p>

<pre class="brush: js;">console.log(Number("12 das")); //NaN</pre>


<p>É isso ai pessoal, espero ter jogado uma luz na questão de converter números em JavaScript. Até a próxima!<!--:--></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/11/bdd-com-specflow/">004 - VideoCast - BDD com SpecFlow</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-11T00:00:00-05:00" pubdate data-updated="true">11/11/2012</time>
        
         | <a href="/blog/2012/11/11/bdd-com-specflow/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<iframe src="http://www.youtube.com/embed/oNs7fmGzMfY" frameborder="0" width="640" height="360"></iframe>


<h2>BDD com SpecFlow</h2>


<p>Behavior Driven Development (BDD) é uma forma diferente de desenvolver aplicações onde programamos com base em uma especificação orientado ao comportamento esperado da aplicação.</p>

<p>O SpecFlow é uma ferramenta Open Source para .NET que auxilia no processo de transformação das especificações em testes automatizados, permitindo esse modelo de desenvolvimento com BDD.</p>

<p>Nesse vídeo apresento um pouco de BDD com SpecFlow funcionando juntos.</p>

<p>O código usado no vídeo está disponível no meu GitHub em: <a href="https://github.com/vintem/BDDSpecFlow"><a href="https://github.com/vintem/BDDSpecFlow">https://github.com/vintem/BDDSpecFlow</a></a><!--:--></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/05/elevao-em-javascript/">Elevação em JavaScript</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-05T00:00:00-05:00" pubdate data-updated="true">05/11/2012</time>
        
         | <a href="/blog/2012/11/05/elevao-em-javascript/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<p>Elevação em JavaScript é o ato de mover a declaração de variáveis para o topo da função. O que? Sim, é isso mesmo. Não importa onde essa variável foi declarada dentro da função, para o JavaScript é como se ela tivesse sido declarada na primeira linha.</p>

<div style="margin: 5px 0px; border: #f48432 1px dashed; padding: 5px;">

<strong>Sofrendo menos com JavaScript</strong>
Esse post faz parte de uma série, confira os outros já feitos:
<ol>
    <li><a href="http://templecoding.com/declarao-de-variveis-com-javascript/">Declaração de variáveis com JavaScript</a></li>
    <li>Elevação em JavaScript</li>
    <li><a href="http://templecoding.com/converter-numeros-em-javascript-e-uma-droga/">Converter números em JavaScript é uma droga</a></li>
    <li><a href="http://templecoding.com/javascript-ponto-virgula/">JavaScript e o problema com o ponto e vírgula</a></li>
    <li><a href="http://templecoding.com/escopo-no-javascript/">Escopo no JavaScript: esse this não é daqui</a></li>
    <li><a href="http://templecoding.com/funcoes-de-callback-no-javascript/">Funções de callback</a></li>
    <li><a href="http://templecoding.com/tratamento-excecoes-javascript/">Tratamento de exceções em JavaScript</a></li>
    <li><a href="http://templecoding.com/construtores-de-arrays-do-javascript/">Construtores de Arrays</a></li>
    <li><a href="http://templecoding.com/loops-for-in-no-javascript/">Loops for in</a></li>
</ol>
</div>


<p>Veja o exemplo abaixo:</p>

<pre class="brush: js;">var func1 = function () {
     console.log(nome); // undefined
     var nome = "Thiago";
     console.log(nome); // Thiago
}
func1();</pre>


<p>A variável <em>nome</em> foi declarada na segunda linha do método e já teve um valor atribuído a ela. Mas no caso do exemplo, quando eu executo o <em>console.log</em> antes da declaração o resultado é <em>undefined</em> e não um erro. Já o <em>console.log</em> depois da declaração funciona conforme esperado.</p>

<p>Primeiro ponto importante, <em>undefined</em> não quer dizer que a variável não foi declarada, quer dizer que ela  foi declarada mas que nenhum valor foi atribuído a ela. O JavaScript, portanto, <strong>eleva</strong> a declaração da variável para o topo da função, mas não eleva a atribuição inicial. O código acima é equivalente a esse:</p>

<pre class="brush: js;">var func1 = function () {
    var nome;
    console.log(nome); // undefined
    nome = "Thiago";
    console.log(nome); // Thiago
}
func1();</pre>


<p>Eu sei, o nome <em>undefined</em> é um pouco confuso, mas nesse caso, o equivalente de <em>var nome;</em> em C# seria <em>string nome = null;</em> Se eu fizesse isso em C#, eu teria acesso a variável <em>nome</em>, ela foi declarada, só que o valor dela é <em>null</em>.</p>

<p>A diferença fica clara com esse segundo exemplo:</p>

<pre class="brush: js;">var func2 = function () {
    console.log(nome); // undefined
    console.log(sobrenome); // ReferenceError: b is not defined
    var nome = "Thiago";
    console.log(nome); // Thiago
}
func2();</pre>


<p>Nesse caso, a variável <em>sobrenome</em> nunca é declarada, por isso quando eu tenho acessá-la recebo um erro. Percebeu a diferença?</p>

<p><strong>Cuidado com loops for</strong></p>

<pre class="brush: js;">var func3 = function() {
    var x;
    x = 100;
    for(var x = 0; x &lt; 10; x ++) {
    }
    console.log(x); // 10
}
func3();</pre>


<p>No JavaScript, loops <em>for</em> não tem seu próprio escopo como em C#, o escopo é sempre o da função, por causa disso, não importa que no exemplo acima eu fiz uma declaração dentro do loop for, a variável é a mesma declarada no inicio da função, porque <strong>todas</strong> as declarações <em>var</em> são <strong>elevadas</strong> para a primeira linha da função.</p>

<p><strong>Elevação com funções</strong></p>

<p>Em JavaScript eu posso atribuir uma função a uma variável, com eu fiz nos 3 exemplos anteriores: func1, func2 e func3 são três variáveis com funções atribuídas a elas. Isso se chama function expression. E function expressions estão sujeitas as mesmas regras que qualquer outra variável, porque, no JavaScript, uma variável que contenha uma função atribuída a ela é igual a uma função que tenha uma string como valor.</p>

<pre class="brush: js;">var func4 = function() {
    console.log(nomeCompleto("Thiago", "Temple")); // TypeError: undefined is not a function
    var nomeCompleto = function(nome, sobrenome) {
        return nome + " " + sobrenome;
    }
}
func4();</pre>


<p>No exemplo acima eu vou receber um erro <em>TypeError</em>, porque a função <em>nomeCompleto</em> foi declarada, e portanto ela é elevada para a primeira linha, mas como o valor dela foi atribuído depois, <em>nomeCompleto</em> é igual a <em>undefined</em>. Veja que é diferente desse caso:</p>

<pre class="brush: js;">var func4 = function() {
    console.log(nomeCompleto("Thiago", "Temple")); // ReferenceError: nomeCompleto is not defined
    var nomeCompleto = function(nome, sobrenome) {
        return nome + " " + sobrenome;
    }
}
func4();</pre>


<p>Novamente, no caso acima a <em>nomeCompleto</em> nunca foi declarada por isso o erro é <em>ReferenceError</em>. O correto obviamente seria:</p>

<pre class="brush: js;">var func4 = function() {
    var nomeCompleto = function(nome, sobrenome) {
        return nome + " " + sobrenome;
    }
    console.log(nomeCompleto("Thiago", "Temple")); // "Thiago Temple"
}
func4();</pre>


<p>Uma outra opção no JavaScript é declarar a função, ao invés de fazer um function expression.</p>

<pre class="brush: js;">var func5 = function() {
    console.log(nomeCompleto("Thiago", "Temple")); // "Thiago Temple"
    function nomeCompleto(nome, sobrenome) {
        return nome + " " + sobrenome;
    }
}
func5();</pre>


<p>O exemplo acima mostra uma declaração de função, e nesse caso, mesmo que eu chame essa função antes de declará-la, funciona. Funciona porque toda declaração de função também é elevada para o todo do método. E como no caso da declaração de função não existe uma váriavel, toda a implementação é elevada.</p>

<p><strong>Conclusão</strong></p>

<p>Como todas as variáveis declaradas em método são sempre elevadas para o topo do método, não existe a necessidade de declarar variáveis em outros locais do método. Por isso, sempre declare todas as variáveis na primeira linha do método.
<em>var nome, sobrenome, teste, i, etc.;</em></p>

<p>Dessa forma, sempre que for necessária uma nova variável, vai existir só uma linha com todas as variáveis no começo do método. E claro, vai ficar mais fácil de saber se a variável já foi declarada, ou se existe algum conflito.<!--:--></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/25/declarao-de-variveis-com-javascript/">Declaração de variáveis com JavaScript</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-25T00:00:00-04:00" pubdate data-updated="true">25/10/2012</time>
        
         | <a href="/blog/2012/10/25/declarao-de-variveis-com-javascript/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<p>Então você tem sofrido com JavaScript, odeia a linguagem e não vê a hora de achar aquele script pronto na internet e terminar logo com isso? Bom, a maioria dos devs que eu conheço pensam assim.</p>

<p>Se você pensa assim, ou mesmo se você quer conhecer um pouco melhor de JavaScript, a ideia aqui é passar 11 pequenas dicas de como a linguagem funciona, seja para entender melhor um script encontrado na internet ou para escrever o seu próprio de uma maneira melhor.</p>

<h3><strong>Por que?</strong></h3>


<p>Simples, porque javascript hoje roda em (praticamente) todo lugar: browsers, celulares, tablets, Windows Apps, jogos, no servidor, etc. E, embora seja possível encontrar scripts, frameworks e plugins que façam quase tudo, sempre tem um momento em que temos que escrever um pouco de JavaScript. Por fim, entender como declarar variáveis com JavaScript é muito simples e pode salvar uma grande quantidade de tempo e trabalho quando fazemos os nossos scripts.</p>

<h3><strong>A Lista</strong></h3>


<p>Então, esses são os 11 itens sobre os quais eu quero falar:</p>

<ol>
    <li>Declaração de variáveis</li>
    <li><a href="http://templecoding.com/elevao-em-javascript/">Elevação</a></li>
    <li><a href="http://templecoding.com/converter-numeros-em-javascript-e-uma-droga/">Converter números em JavaScript é uma droga</a></li>
    <li><a href="http://templecoding.com/javascript-ponto-virgula/">JavaScript e o problema com o ponto e vírgula</a></li>
    <li><a href="http://templecoding.com/tratamento-excecoes-javascript/">Tratamento de exceções em JavaScript</a></li>
    <li><a href="http://templecoding.com/escopo-no-javascript/">Escopo no JavaScript: esse this não é daqui</a></li>
    <li><a href="http://templecoding.com/funcoes-de-callback-no-javascript/">Loops for in</a></li>
    <li><a href="http://templecoding.com/funcoes-de-callback-no-javascript/">Funções de callback</a></li>
    <li><a href="http://templecoding.com/construtores-de-arrays-do-javascript/">Construtores de Arrays</a></li>
    <li>Construindo objetos</li>
    <li>O JSLint existe pra ajudar</li>
</ol>


<h2>Declaração de variáveis com JavaScript</h2>


<h3><strong>Sempre use var</strong></h3>


<p>Vai declarar uma variável? Use <strong>var</strong>! Simples, essa é a regra.
Toda a vez que uma variável é declara/usada sem o <strong>var</strong> ela passa a ser uma variável global, que, no caso do browser é sempre o objeto window.
Veja o código abaixo:</p>

<pre class="brush: js; ruler: true; smart-tabs: false;">nome = "Thiago";

var func1 = function (param) {
  var nome = param;
  document.write(nome); // Michael
};

var func2 = function (param) {
  var nome = param;
  document.write(nome); // Jordan
};
document.write(nome); // Thiago
func1('Michael');
document.write(nome); // Thiago
func2('Jordan');
document.write(nome); // Thiago
document.write(window.nome); // Thiago</pre>


<p>O que acontece aqui é que no momento em que declaro <strong>nome = &ldquo;Thiago&rdquo;</strong>, como não usei <strong>var</strong>, nome passa a fazer parte do objeto <strong>window</strong>. Dentro das funções func1 e func2 também não declarei nome usando <strong>var</strong> e, portanto, nesse caso <strong>nome</strong> também faz parte do objeto <strong>window</strong>.
Isso fica claro quando eu exibo o valor de <strong>nome</strong> usando as duas formas abaixo e obtenho o mesmo resultado:</p>

<pre class="brush: js; ruler: true; smart-tabs: false;">document.write(nome);
document.write(window.nome);</pre>


<p>Quando executamos código fora de uma função esse código também esta no escopo global, ou seja, no <strong>window</strong>. Portanto acessar <strong>nome</strong> e <strong>window.nome</strong> nesse caso é a mesma coisa.
Agora veja a diferença desse código:</p>

<pre class="brush: js; ruler: true; smart-tabs: false;">nome = "Thiago";

var func1 = function (param) {
  var nome = param;
  document.write(nome); // Michael
};

var func2 = function (param) {
  var nome = param;
  document.write(nome); // Jordan
};
document.write(nome); // Thiago
func1('Michael');
document.write(nome); // Thiago
func2('Jordan');
document.write(nome); // Thiago
document.write(window.nome); // Thiago</pre>


<p>A primeira declaração <strong>nome = &ldquo;Thiago&rdquo;</strong> continua global, mas dentro das funções func1 e func2 eu redeclarei a variável <strong>nome</strong> usando <strong>var</strong>, nesse momento elas passam a fazer parte do escopo da função em que são declaradas, assim, não interferindo com a variável global.</p>

<h3>Evite atribuição de valores em cadeia</h3>


<p>Veja o exemplo abaixo:</p>

<pre class="brush: js; ruler: true; smart-tabs: false;">var f1 = function() {
  var a = b = "Isso nao deve estar certo";
};
document.write(b); // Isso nao deve estar certo
document.write(a); // ReferenceError: a is not defined</pre>


<p>Pode até parecer que estamos declarando <strong>a</strong> e <strong>b</strong> dentro da função, mas nesse caso, somente <strong>a</strong> esta sendo declarado no escopo da função, <strong>b</strong> foi declarado como variável global, por isso fora da função a gente consegue acessar <strong>b</strong>, mas no caso de <strong>a</strong>, recebemos um erro, <strong>a</strong> só esta disponível dentro da função, conforme esperado.</p>

<p>A declaração correta para termos <strong>a</strong> e <strong>b</strong> dentro do escopo da função seria:</p>

<pre class="brush: js; ruler: true; smart-tabs: false;">var f1 = function() {
  var a, b = "Isso nao deve estar certo";
};</pre>


<p>A diferença é sutil, mas o suficiente para causar uma boa dor de cabeça.</p>

<h3>Por que isso é imporante?</h3>


<p>A razão é simples, para não termos interferências inesperadas. Por exemplo: se, sem querer algum programador <del>desleixado</del> descuidado, declarar variáveis com o mesmo nome em funções diferentes elas podem interferir uma com a outra, e esse é um caso bem complicado de debugar.</p>

<p>Outro cenário muito comum nos dias de hoje: usamos muitos scripts, frameworks e plugins prontos que encontramos na internet, e a gente nunca sabe como foi feito o código desses plugins. Com certeza, muitos deles usam nomes comuns como result, response, request, etc. E esses nomes podem conflitar com nosso próprio código.</p>

<h3>Solução</h3>


<p>Sempre usar var, e evite fazer atribuição de valores em cadeia. Também não escreva scripts que não façam parte de um escopo, que no caso de JavaScript, é basicamente uma função. Mas vou falar de escopo um pouco mais pra frente.<!--:--></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/11/003-videocast-autenticacao-com-simplemembership/">003 - VideoCast - Autenticação com SimpleMembership</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-11T00:00:00-04:00" pubdate data-updated="true">11/10/2012</time>
        
         | <a href="/blog/2012/10/11/003-videocast-autenticacao-com-simplemembership/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<iframe src="http://www.youtube.com/embed/6HupO5Jype0" frameborder="0" width="640" height="360"></iframe>


<p>O SimpleMembership é um novo provider que foi incluido no ASP.NET MVC 4 que simplifica a forma de fazer autenticação e autorização em aplicações web, seja fazendo o cadastro, manutenção e autenticação de usuários de uma forma customizada, ou mesmo utilizando padrões como o OAuth.</p>

<p>O código está disponível em: <a href="https://github.com/vintem/MeAnota" target="_blank"><a href="https://github.com/vintem/MeAnota">https://github.com/vintem/MeAnota</a></a><!--:--></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/10/01/002-videocast-entity-framework/">002 - VideoCast - Entity Framework</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-10-01T00:00:00-04:00" pubdate data-updated="true">01/10/2012</time>
        
         | <a href="/blog/2012/10/01/002-videocast-entity-framework/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<iframe src="http://www.youtube.com/embed/OMFHnWWUPGI" frameborder="0" width="640" height="360"></iframe>


<p>Demonstração do uso do Entity Framework 5, expondo principalmente as funcionalidades de migração.</p>

<p><a href="htps://github.com/vintem/MeAnota" target="_blank">O código está disponível no meu GitHub.</a><!--:--></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/30/fazendo-moocs/">Fazendo MOOCs</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-30T00:00:00-04:00" pubdate data-updated="true">30/09/2012</time>
        
         | <a href="/blog/2012/09/30/fazendo-moocs/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<p>Eu sempre tive muita dificuldade de me concentrar (e de aproveitar) as &ldquo;aulas tradicionais&rdquo; dentro de uma sala de aula. Ir para uma sala de aula em um horário determinado, e acompanhar o ritmo dos outros (professor e alunos), nunca me atraiu muito. Então posso dizer que meu período na faculdade foi muito mal aproveitado. Eu me formei, isso é um fato (de acordo com o meu diploma). Mas não posso dizer que carrego muito, ou mesmo pouco, do conteúdo que me foi transmitido no período em que fiquei na faculdade.</p>

<p>Por causa disso, hoje eu corro atrás de muitos dos ensinamentos que desperdicei nesse período, seja na forma de livros, artigos, revistas, etc. Foi por isso que fiquei muito animado quando descobri os <a href="http://en.wikipedia.org/wiki/Massive_open_online_course">Massive open online courses</a><strong><a href="http://en.wikipedia.org/wiki/Massive_open_online_course">,</a></strong><a href="http://en.wikipedia.org/wiki/Massive_open_online_course"> o</a><a href="http://en.wikipedia.org/wiki/Massive_open_online_course">u</a><a href="http://en.wikipedia.org/wiki/Massive_open_online_course"> M</a><a href="http://en.wikipedia.org/wiki/Massive_open_online_course">OOCs</a>, que, traduzindo rapidamente o que está na Wikipedia quer dizer:</p>

<blockquote>&#8220;&#8230;um tipo de curso online direcionadp à participação em larga escala e com acesso aberto via web&#8230;&#8221;</blockquote>


<p>Enfim, tratam-se de cursos online gratuitos, com alguma forma de avaliação e orientação de um professor. Em alguns (ou vários) casos, esses cursos recebem o respaldo de universidades conhecidas. Alguns até garantem certificados.</p>

<p>Um site que tem diversos cursos é o <a href="http://www.coursera.org/">Cursera.org</a>, vale a pena conferir, existem assuntos dos mais variados, outro também bem interessante é o <a href="http://www.edx.org/">edX</a>, este, só para se ter uma idéia tem cursos com o respaldo do MIT, Harvard e Berkeley.</p>

<p>Achei a idéia bem interessante. Nos cursos que estou participando, funciona mais ou menos assim: existe uma palestra (video on-line) com o conteúdo da semana, avaliações são feitas com questões objetivas respondidas no próprio site e também é possível que seja solicitado um trabalho escrito.</p>

<p>Claro que existem prazos a serem cumpridos, mas você tem uma certa flexibilidade de horários pra fazer as coisas, além do que, se preferir é possível somente assistir os videos sem se preocupar com avaliações, o que já garante uma boa fonte de informação.<!--:--></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/25/001-videocast-produtividade-com-asp-net-mvc-4/">001 - VideoCast - Produtividade com ASP.NET MVC 4</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-25T00:00:00-04:00" pubdate data-updated="true">25/09/2012</time>
        
         | <a href="/blog/2012/09/25/001-videocast-produtividade-com-asp-net-mvc-4/#disqus_thread">Comentários</a>
        
      </p>
    
  </header>


  <div class="entry-content"><!--:pt-->


<iframe src="http://www.youtube.com/embed/Zp_cLt69ee8" frameborder="0" width="640" height="360"></iframe>


<h2>Produtividade com ASP.NET MVC 4</h2>


<p>Nesse video eu mostro um pouco de como é possível obter Produtividade com ASP.NET MVC 4. O ASP.NET MVC vem melhorando a cada versão, e na versão quatro a nossa vida como programadores web ficou ainda mais fácil. E quem não gosta disso, não é?</p>

<h2>Alguns itens que falo no video</h2>


<ul>
    <li>Scaffolding de controllers e views</li>
    <li>Integração com o Entity Framework</li>
    <li>Autenticação usando OAuth</li>
    <li>WebAPI</li>
</ul>


<p>O código desse vídeo <a href="https://github.com/vintem/MVC4BlogDemo">está disponível no meu GitHub</a>.<!--:--></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/07/30/responsabilidade-unica-com-javascript/">Só é uma bagunça se você deixar. Responsabilidade única com JavaScript</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/23/meu-ted-talk-favorito/">Meu TED Talk favorito</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/16/programacao-orientada-a-coincidencia/">Programação orientada à coincidência</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/10/quatro-bons-livros-para-mudar-a-forma-como-voce-ve-escreve-javascript/">Quatro bons livros para mudar a forma como você vê/escreve JavaScript</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/04/analise-do-livro-pragmatic-thinking-and-learning/">Análise do livro Pragmatic Thinking and Learning</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Thiago Temple -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>


<script type="text/javascript">
var sc_project=5357260;
var sc_invisible=1;
var sc_security="14d7610a";
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" + scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>
<noscript><div class="statcounter"><a title="web stats"
href="http://statcounter.com/free-web-stats/" target="_blank"><img
class="statcounter" src="http://c.statcounter.com/5357260/0/14d7610a/1/"
alt="web stats"></a></div></noscript>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'templecoding';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
